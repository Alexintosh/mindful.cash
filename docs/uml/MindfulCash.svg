<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="8157pt" height="4494pt"
 viewBox="0.00 0.00 8156.95 4493.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 4489.8)">
<title>UmlClassDiagram</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-4489.8 8152.9488,-4489.8 8152.9488,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5049.4515,-2768.5 5049.4515,-2943.7 5495.4727,-2943.7 5495.4727,-2768.5 5049.4515,-2768.5"/>
<text text-anchor="middle" x="5272.4621" y="-2927.1" font-family="Times,serif" font-size="14.00" fill="#000000">Ownable</text>
<polyline fill="none" stroke="#000000" points="5049.4515,-2918.9 5495.4727,-2918.9 "/>
<text text-anchor="middle" x="5272.4621" y="-2902.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="5049.4515,-2894.1 5495.4727,-2894.1 "/>
<text text-anchor="start" x="5057.4515" y="-2877.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="5057.4515" y="-2860.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_setOwner(_newOwner: address)</text>
<text text-anchor="start" x="5057.4515" y="-2843.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5057.4515" y="-2827.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferOwnership(_newOwner: address)</text>
<text text-anchor="start" x="5057.4515" y="-2810.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5057.4515" y="-2793.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; OwnerChanged(previousOwner: address, newOwner: address)</text>
<text text-anchor="start" x="5057.4515" y="-2776.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOwner()</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2979.3853,-2650.9 2979.3853,-3061.3 3395.5389,-3061.3 3395.5389,-2650.9 2979.3853,-2650.9"/>
<text text-anchor="middle" x="3187.4621" y="-3044.7" font-family="Times,serif" font-size="14.00" fill="#000000">PCToken</text>
<polyline fill="none" stroke="#000000" points="2979.3853,-3036.5 3395.5389,-3036.5 "/>
<text text-anchor="start" x="2987.3853" y="-3019.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2987.3853" y="-3003.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;decimals: uint8</text>
<polyline fill="none" stroke="#000000" points="2979.3853,-2994.9 3395.5389,-2994.9 "/>
<text text-anchor="start" x="2987.3853" y="-2978.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2987.3853" y="-2961.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_mint(_amount: uint256)</text>
<text text-anchor="start" x="2987.3853" y="-2944.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_burn(_amount: uint256)</text>
<text text-anchor="start" x="2987.3853" y="-2927.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_move(_src: address, _dst: address, _amount: uint256)</text>
<text text-anchor="start" x="2987.3853" y="-2911.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_push(_to: address, _amount: uint256)</text>
<text text-anchor="start" x="2987.3853" y="-2894.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_pull(_from: address, _amount: uint256)</text>
<text text-anchor="start" x="2987.3853" y="-2877.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2987.3853" y="-2860.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;allowance(_src: address, _dst: address): uint256</text>
<text text-anchor="start" x="2987.3853" y="-2843.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;balanceOf(_whom: address): uint256</text>
<text text-anchor="start" x="2987.3853" y="-2827.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;name(): string</text>
<text text-anchor="start" x="2987.3853" y="-2810.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;symbol(): string</text>
<text text-anchor="start" x="2987.3853" y="-2793.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;approve(_dst: address, _amount: uint256): bool</text>
<text text-anchor="start" x="2987.3853" y="-2776.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;increaseApproval(_dst: address, _amount: uint256): bool</text>
<text text-anchor="start" x="2987.3853" y="-2759.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decreaseApproval(_dst: address, _amount: uint256): bool</text>
<text text-anchor="start" x="2987.3853" y="-2743.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transfer(_dst: address, _amount: uint256): bool</text>
<text text-anchor="start" x="2987.3853" y="-2726.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transferFrom(_src: address, _dst: address, _amount: uint256): bool</text>
<text text-anchor="start" x="2987.3853" y="-2709.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2987.3853" y="-2692.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Approval(_src: address, _dst: address, _amount: uint256)</text>
<text text-anchor="start" x="2987.3853" y="-2675.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Transfer(_src: address, _dst: address, _amount: uint256)</text>
<text text-anchor="start" x="2987.3853" y="-2659.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;totalSupply(): uint256</text>
</g>
<!-- 6 -->
<g id="node6" class="node">
<title>6</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3673.3853,-3635.9 3673.3853,-3878.3 4089.5389,-3878.3 4089.5389,-3635.9 3673.3853,-3635.9"/>
<text text-anchor="middle" x="3881.4621" y="-3861.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="3881.4621" y="-3844.9" font-family="Times,serif" font-size="14.00" fill="#000000">IERC20</text>
<polyline fill="none" stroke="#000000" points="3673.3853,-3836.7 4089.5389,-3836.7 "/>
<text text-anchor="middle" x="3881.4621" y="-3820.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3673.3853,-3811.9 4089.5389,-3811.9 "/>
<text text-anchor="start" x="3681.3853" y="-3795.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3681.3853" y="-3778.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;totalSupply(): uint256</text>
<text text-anchor="start" x="3681.3853" y="-3761.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;balanceOf(_whom: address): uint256</text>
<text text-anchor="start" x="3681.3853" y="-3744.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;allowance(_src: address, _dst: address): uint256</text>
<text text-anchor="start" x="3681.3853" y="-3728.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;approve(_dst: address, _amount: uint256): bool</text>
<text text-anchor="start" x="3681.3853" y="-3711.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;transfer(_dst: address, _amount: uint256): bool</text>
<text text-anchor="start" x="3681.3853" y="-3694.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;transferFrom(_src: address, _dst: address, _amount: uint256): bool</text>
<text text-anchor="start" x="3681.3853" y="-3677.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3681.3853" y="-3660.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Approval(_src: address, _dst: address, _amount: uint256)</text>
<text text-anchor="start" x="3681.3853" y="-3644.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Transfer(_src: address, _dst: address, _amount: uint256)</text>
</g>
<!-- 1&#45;&gt;6 -->
<g id="edge12" class="edge">
<title>1&#45;&gt;6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3302.9707,-3061.3288C3363.7995,-3163.3814 3442.4664,-3286.5592 3523.4621,-3389.4 3585.5061,-3468.1777 3662.1922,-3548.7587 3728.6535,-3614.3306"/>
<polygon fill="none" stroke="#000000" points="3721.5179,-3622.0389 3750.3021,-3635.5193 3736.2069,-3607.0311 3721.5179,-3622.0389"/>
</g>
<!-- 19 -->
<g id="node20" class="node">
<title>19</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1406.1174,-3677.9 1406.1174,-3836.3 1816.8068,-3836.3 1816.8068,-3677.9 1406.1174,-3677.9"/>
<text text-anchor="middle" x="1611.4621" y="-3819.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="1611.4621" y="-3802.9" font-family="Times,serif" font-size="14.00" fill="#000000">LibPoolToken</text>
<polyline fill="none" stroke="#000000" points="1406.1174,-3794.7 1816.8068,-3794.7 "/>
<text text-anchor="middle" x="1611.4621" y="-3778.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1406.1174,-3769.9 1816.8068,-3769.9 "/>
<text text-anchor="start" x="1414.1174" y="-3753.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1414.1174" y="-3736.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_mint(_to: address, _amount: uint256)</text>
<text text-anchor="start" x="1414.1174" y="-3719.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_burn(_from: address, _amount: uint256)</text>
<text text-anchor="start" x="1414.1174" y="-3702.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1414.1174" y="-3686.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Transfer(_src: address, _dst: address, _amount: uint256)</text>
</g>
<!-- 1&#45;&gt;19 -->
<g id="edge14" class="edge">
<title>1&#45;&gt;19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3159.2333,-3061.5168C3131.6936,-3177.9749 3077.3958,-3314.9113 2970.4621,-3389.4 2869.4817,-3459.7417 1972.8011,-3368.9202 1863.4621,-3425.4 1763.0778,-3477.2542 1691.3644,-3589.353 1650.7139,-3668.8535"/>
<polygon fill="#000000" stroke="#000000" points="1647.5321,-3667.39 1646.1525,-3677.8947 1653.7818,-3670.5431 1647.5321,-3667.39"/>
</g>
<!-- 23 -->
<g id="node24" class="node">
<title>23</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1515.319,-4125.3 1515.319,-4485.3 1939.6052,-4485.3 1939.6052,-4125.3 1515.319,-4125.3"/>
<text text-anchor="middle" x="1727.4621" y="-4468.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="1727.4621" y="-4451.9" font-family="Times,serif" font-size="14.00" fill="#000000">Math</text>
<polyline fill="none" stroke="#000000" points="1515.319,-4443.7 1939.6052,-4443.7 "/>
<text text-anchor="start" x="1523.319" y="-4427.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1523.319" y="-4410.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;BONE: uint256</text>
<text text-anchor="start" x="1523.319" y="-4393.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_BPOW_BASE: uint256</text>
<text text-anchor="start" x="1523.319" y="-4376.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_BPOW_BASE: uint256</text>
<text text-anchor="start" x="1523.319" y="-4359.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;BPOW_PRECISION: uint256</text>
<polyline fill="none" stroke="#000000" points="1515.319,-4351.7 1939.6052,-4351.7 "/>
<text text-anchor="start" x="1523.319" y="-4335.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1523.319" y="-4318.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;bdiv(a: uint256, b: uint256): uint256</text>
<text text-anchor="start" x="1523.319" y="-4301.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;btoi(a: uint256): uint256</text>
<text text-anchor="start" x="1523.319" y="-4284.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;bsubSign(a: uint256, b: uint256): (uint256, bool)</text>
<text text-anchor="start" x="1523.319" y="-4267.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;bsub(a: uint256, b: uint256): uint256</text>
<text text-anchor="start" x="1523.319" y="-4251.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;bmul(a: uint256, b: uint256): uint256</text>
<text text-anchor="start" x="1523.319" y="-4234.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mul(a: uint256, b: uint256): uint256</text>
<text text-anchor="start" x="1523.319" y="-4217.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;badd(a: uint256, b: uint256): uint256</text>
<text text-anchor="start" x="1523.319" y="-4200.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;div(a: uint256, b: uint256): uint256</text>
<text text-anchor="start" x="1523.319" y="-4183.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;bpowi(a: uint256, n: uint256): uint256</text>
<text text-anchor="start" x="1523.319" y="-4167.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;bpow(base: uint256, exp: uint256): uint256</text>
<text text-anchor="start" x="1523.319" y="-4150.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;bpowApprox(base: uint256, exp: uint256, precision: uint256): uint256</text>
<text text-anchor="start" x="1523.319" y="-4133.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;bfloor(a: uint256): uint256</text>
</g>
<!-- 1&#45;&gt;23 -->
<g id="edge13" class="edge">
<title>1&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3237.157,-3061.3025C3289.7437,-3333.7132 3333.4712,-3812.4444 3075.4621,-4088.8 2999.6925,-4169.9575 2312.7124,-4248.2933 1949.8207,-4284.4617"/>
<polygon fill="#000000" stroke="#000000" points="1949.3169,-4280.9945 1939.7122,-4285.4667 1950.0094,-4287.9601 1949.3169,-4280.9945"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="0,-1800.3 0,-1891.5 180.9242,-1891.5 180.9242,-1800.3 0,-1800.3"/>
<text text-anchor="middle" x="90.4621" y="-1874.9" font-family="Times,serif" font-size="14.00" fill="#000000">ReentryProtection</text>
<polyline fill="none" stroke="#000000" points="0,-1866.7 180.9242,-1866.7 "/>
<text text-anchor="middle" x="90.4621" y="-1850.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="0,-1841.9 180.9242,-1841.9 "/>
<text text-anchor="start" x="8" y="-1825.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8" y="-1808.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; noReentry()</text>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4020.9122,-1733.1 4020.9122,-1958.7 4974.012,-1958.7 4974.012,-1733.1 4020.9122,-1733.1"/>
<text text-anchor="middle" x="4497.4621" y="-1942.1" font-family="Times,serif" font-size="14.00" fill="#000000">PProxiedFactory</text>
<polyline fill="none" stroke="#000000" points="4020.9122,-1933.9 4974.012,-1933.9 "/>
<text text-anchor="start" x="4028.9122" y="-1917.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4028.9122" y="-1900.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;balancerFactory: IBFactory</text>
<text text-anchor="start" x="4028.9122" y="-1883.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;smartPoolImplementation: address</text>
<text text-anchor="start" x="4028.9122" y="-1866.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;isPool: mapping(address=&gt;bool)</text>
<text text-anchor="start" x="4028.9122" y="-1850.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;pools: address[]</text>
<polyline fill="none" stroke="#000000" points="4020.9122,-1841.9 4974.012,-1841.9 "/>
<text text-anchor="start" x="4028.9122" y="-1825.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4028.9122" y="-1808.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setImplementation(_implementation: address)</text>
<text text-anchor="start" x="4028.9122" y="-1791.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4028.9122" y="-1774.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SmartPoolCreated(poolAddress: address, name: string, symbol: string)</text>
<text text-anchor="start" x="4028.9122" y="-1758.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_balancerFactory: address, _implementation: address)</text>
<text text-anchor="start" x="4028.9122" y="-1741.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;newProxiedSmartPool(_name: string, _symbol: string, _initialSupply: uint256, _tokens: address[], _amounts: uint256[], _weights: uint256[], _cap: uint256): address</text>
</g>
<!-- 3&#45;&gt;0 -->
<g id="edge15" class="edge">
<title>3&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M4660.8909,-1958.8264C4778.784,-2046.9518 4935.0959,-2178.3559 5040.4621,-2322.8 5134.822,-2452.1559 5201.3021,-2625.8896 5238.235,-2739.3853"/>
<polygon fill="none" stroke="#000000" points="5228.3301,-2742.8863 5247.4271,-2768.294 5248.3428,-2736.5228 5228.3301,-2742.8863"/>
</g>
<!-- 3&#45;&gt;6 -->
<g id="edge19" class="edge">
<title>3&#45;&gt;6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4422.0311,-1958.7796C4364.2618,-2052.0108 4288.8274,-2190.1156 4254.4621,-2322.8 4194.9964,-2552.3968 4306.0298,-3169.7902 4216.4621,-3389.4 4179.0172,-3481.2107 4107.774,-3564.6311 4040.5819,-3628.7193"/>
<polygon fill="#000000" stroke="#000000" points="4038.1164,-3626.2337 4033.2549,-3635.6474 4042.9257,-3631.32 4038.1164,-3626.2337"/>
</g>
<!-- 4 -->
<g id="node8" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5513.2012,-2802.1 5513.2012,-2910.1 5663.723,-2910.1 5663.723,-2802.1 5513.2012,-2802.1"/>
<text text-anchor="middle" x="5588.4621" y="-2893.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="5588.4621" y="-2876.7" font-family="Times,serif" font-size="14.00" fill="#000000">IBFactory</text>
<polyline fill="none" stroke="#000000" points="5513.2012,-2868.5 5663.723,-2868.5 "/>
<text text-anchor="middle" x="5588.4621" y="-2851.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="5513.2012,-2843.7 5663.723,-2843.7 "/>
<text text-anchor="start" x="5521.2012" y="-2827.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5521.2012" y="-2810.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;newBPool(): address</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge17" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M4638.1591,-1958.7352C4775.5539,-2062.3962 4994.8804,-2211.0665 5210.4621,-2286.8 5272.5629,-2308.6159 5457.1262,-2277.0643 5504.4621,-2322.8 5632.087,-2446.1104 5616.8771,-2678.7427 5600.3023,-2791.5338"/>
<polygon fill="#000000" stroke="#000000" points="5596.7935,-2791.3274 5598.7503,-2801.74 5603.714,-2792.3798 5596.7935,-2791.3274"/>
</g>
<!-- 5 -->
<g id="node9" class="node">
<title>5</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1872.8824,-3560.3 1872.8824,-3953.9 3020.0418,-3953.9 3020.0418,-3560.3 1872.8824,-3560.3"/>
<text text-anchor="middle" x="2446.4621" y="-3937.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2446.4621" y="-3920.5" font-family="Times,serif" font-size="14.00" fill="#000000">IBPool</text>
<polyline fill="none" stroke="#000000" points="1872.8824,-3912.3 3020.0418,-3912.3 "/>
<text text-anchor="middle" x="2446.4621" y="-3895.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1872.8824,-3887.5 3020.0418,-3887.5 "/>
<text text-anchor="start" x="1880.8824" y="-3870.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1880.8824" y="-3854.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getCurrentTokens(): address[]</text>
<text text-anchor="start" x="1880.8824" y="-3837.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isBound(token: address): bool</text>
<text text-anchor="start" x="1880.8824" y="-3820.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;rebind(token: address, balance: uint256, denorm: uint256)</text>
<text text-anchor="start" x="1880.8824" y="-3803.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setSwapFee(swapFee: uint256)</text>
<text text-anchor="start" x="1880.8824" y="-3786.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setPublicSwap(_public: bool)</text>
<text text-anchor="start" x="1880.8824" y="-3770.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;bind(token: address, balance: uint256, denorm: uint256)</text>
<text text-anchor="start" x="1880.8824" y="-3753.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;unbind(token: address)</text>
<text text-anchor="start" x="1880.8824" y="-3736.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getDenormalizedWeight(token: address): uint256</text>
<text text-anchor="start" x="1880.8824" y="-3719.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getTotalDenormalizedWeight(): uint256</text>
<text text-anchor="start" x="1880.8824" y="-3702.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getBalance(token: address): uint256</text>
<text text-anchor="start" x="1880.8824" y="-3686.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setController(manager: address)</text>
<text text-anchor="start" x="1880.8824" y="-3669.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isPublicSwap(): bool</text>
<text text-anchor="start" x="1880.8824" y="-3652.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getSwapFee(): uint256</text>
<text text-anchor="start" x="1880.8824" y="-3635.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;gulp(token: address)</text>
<text text-anchor="start" x="1880.8824" y="-3618.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;calcPoolOutGivenSingleIn(tokenBalanceIn: uint256, tokenWeightIn: uint256, poolSupply: uint256, totalWeight: uint256, tokenAmountIn: uint256, swapFee: uint256): (poolAmountOut: uint256)</text>
<text text-anchor="start" x="1880.8824" y="-3602.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;calcSingleInGivenPoolOut(tokenBalanceIn: uint256, tokenWeightIn: uint256, poolSupply: uint256, totalWeight: uint256, poolAmountOut: uint256, swapFee: uint256): (tokenAmountIn: uint256)</text>
<text text-anchor="start" x="1880.8824" y="-3585.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;calcSingleOutGivenPoolIn(tokenBalanceOut: uint256, tokenWeightOut: uint256, poolSupply: uint256, totalWeight: uint256, poolAmountIn: uint256, swapFee: uint256): (tokenAmountOut: uint256)</text>
<text text-anchor="start" x="1880.8824" y="-3568.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;calcPoolInGivenSingleOut(tokenBalanceOut: uint256, tokenWeightOut: uint256, poolSupply: uint256, totalWeight: uint256, tokenAmountOut: uint256, swapFee: uint256): (poolAmountIn: uint256)</text>
</g>
<!-- 3&#45;&gt;5 -->
<g id="edge18" class="edge">
<title>3&#45;&gt;5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4402.3758,-1959.1321C4306.273,-2064.6307 4147.4489,-2215.9801 3973.4621,-2286.8 3872.7468,-2327.7954 3562.4353,-2245.9929 3485.4621,-2322.8 3317.1981,-2490.701 3546.4289,-3198.746 3404.4621,-3389.4 3312.518,-3512.8761 3173.4865,-3594.8893 3029.634,-3649.3622"/>
<polygon fill="#000000" stroke="#000000" points="3028.2911,-3646.1277 3020.1521,-3652.9106 3030.7445,-3652.6836 3028.2911,-3646.1277"/>
</g>
<!-- 8 -->
<g id="node14" class="node">
<title>8</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4263.84,-2323.3 4263.84,-3388.9 5031.0842,-3388.9 5031.0842,-2323.3 4263.84,-2323.3"/>
<text text-anchor="middle" x="4647.4621" y="-3372.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="4647.4621" y="-3355.5" font-family="Times,serif" font-size="14.00" fill="#000000">IPV2SmartPool</text>
<polyline fill="none" stroke="#000000" points="4263.84,-3347.3 5031.0842,-3347.3 "/>
<text text-anchor="middle" x="4647.4621" y="-3330.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="4263.84,-3322.5 5031.0842,-3322.5 "/>
<text text-anchor="start" x="4271.84" y="-3305.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4271.84" y="-3289.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;bind(_token: address, _balance: uint256, _denorm: uint256)</text>
<text text-anchor="start" x="4271.84" y="-3272.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;init(_bPool: address, _name: string, _symbol: string, _initialSupply: uint256)</text>
<text text-anchor="start" x="4271.84" y="-3255.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setTokenBinder(_tokenBinder: address)</text>
<text text-anchor="start" x="4271.84" y="-3238.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setPublicSwap(_public: bool)</text>
<text text-anchor="start" x="4271.84" y="-3221.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setSwapFee(_swapFee: uint256)</text>
<text text-anchor="start" x="4271.84" y="-3205.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setCap(_cap: uint256)</text>
<text text-anchor="start" x="4271.84" y="-3188.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setAnnualFee(_newFee: uint256)</text>
<text text-anchor="start" x="4271.84" y="-3171.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;chargeOutstandingAnnualFee()</text>
<text text-anchor="start" x="4271.84" y="-3154.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setFeeRecipient(_newRecipient: address)</text>
<text text-anchor="start" x="4271.84" y="-3137.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setController(_controller: address)</text>
<text text-anchor="start" x="4271.84" y="-3121.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setCircuitBreaker(_newCircuitBreaker: address)</text>
<text text-anchor="start" x="4271.84" y="-3104.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setJoinExitEnabled(_newValue: bool)</text>
<text text-anchor="start" x="4271.84" y="-3087.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;tripCircuitBreaker()</text>
<text text-anchor="start" x="4271.84" y="-3070.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;updateWeight(_token: address, _newWeight: uint256)</text>
<text text-anchor="start" x="4271.84" y="-3053.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;updateWeightsGradually(_newWeights: uint256[], _startBlock: uint256, _endBlock: uint256)</text>
<text text-anchor="start" x="4271.84" y="-3037.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;pokeWeights()</text>
<text text-anchor="start" x="4271.84" y="-3020.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;applyAddToken()</text>
<text text-anchor="start" x="4271.84" y="-3003.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;commitAddToken(_token: address, _balance: uint256, _denormalizedWeight: uint256)</text>
<text text-anchor="start" x="4271.84" y="-2986.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;removeToken(_token: address)</text>
<text text-anchor="start" x="4271.84" y="-2969.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;approveTokens()</text>
<text text-anchor="start" x="4271.84" y="-2953.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;joinPool(_amount: uint256)</text>
<text text-anchor="start" x="4271.84" y="-2936.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;joinPool(_amount: uint256, _maxAmountsIn: uint256[])</text>
<text text-anchor="start" x="4271.84" y="-2919.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exitPool(_amount: uint256)</text>
<text text-anchor="start" x="4271.84" y="-2902.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exitPool(_amount: uint256, _minAmountsOut: uint256[])</text>
<text text-anchor="start" x="4271.84" y="-2885.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;joinswapExternAmountIn(_token: address, _amountIn: uint256, _minPoolAmountOut: uint256): uint256</text>
<text text-anchor="start" x="4271.84" y="-2869.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;joinswapPoolAmountOut(_token: address, _amountOut: uint256, _maxAmountIn: uint256): (tokenAmountIn: uint256)</text>
<text text-anchor="start" x="4271.84" y="-2852.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exitswapPoolAmountIn(_token: address, _poolAmountIn: uint256, _minAmountOut: uint256): (tokenAmountOut: uint256)</text>
<text text-anchor="start" x="4271.84" y="-2835.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exitswapExternAmountOut(_token: address, _tokenAmountOut: uint256, _maxPoolAmountIn: uint256): (poolAmountIn: uint256)</text>
<text text-anchor="start" x="4271.84" y="-2818.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exitPoolTakingloss(_amount: uint256, _lossTokens: address[])</text>
<text text-anchor="start" x="4271.84" y="-2801.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setPublicSwapSetter(_swapSetter: address)</text>
<text text-anchor="start" x="4271.84" y="-2785.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;rebind(_token: address, _balance: uint256, _denorm: uint256)</text>
<text text-anchor="start" x="4271.84" y="-2768.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;unbind(_token: address)</text>
<text text-anchor="start" x="4271.84" y="-2751.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getController(): address</text>
<text text-anchor="start" x="4271.84" y="-2734.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getPublicSwapSetter(): address</text>
<text text-anchor="start" x="4271.84" y="-2717.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getTokenBinder(): address</text>
<text text-anchor="start" x="4271.84" y="-2701.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getCircuitBreaker(): address</text>
<text text-anchor="start" x="4271.84" y="-2684.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isPublicSwap(): bool</text>
<text text-anchor="start" x="4271.84" y="-2667.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getTokens(): address[]</text>
<text text-anchor="start" x="4271.84" y="-2650.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getCap(): uint256</text>
<text text-anchor="start" x="4271.84" y="-2633.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getAnnualFee(): uint256</text>
<text text-anchor="start" x="4271.84" y="-2617.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getFeeRecipient(): address</text>
<text text-anchor="start" x="4271.84" y="-2600.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getDenormalizedWeight(_token: address): uint256</text>
<text text-anchor="start" x="4271.84" y="-2583.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getDenormalizedWeights(): (weights: uint256[])</text>
<text text-anchor="start" x="4271.84" y="-2566.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getNewWeights(): (weights: uint256[])</text>
<text text-anchor="start" x="4271.84" y="-2549.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getStartWeights(): (weights: uint256[])</text>
<text text-anchor="start" x="4271.84" y="-2533.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getStartBlock(): uint256</text>
<text text-anchor="start" x="4271.84" y="-2516.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getEndBlock(): uint256</text>
<text text-anchor="start" x="4271.84" y="-2499.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getNewToken(): P2Storage.NewToken</text>
<text text-anchor="start" x="4271.84" y="-2482.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getJoinExitEnabled(): bool</text>
<text text-anchor="start" x="4271.84" y="-2465.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getBPool(): address</text>
<text text-anchor="start" x="4271.84" y="-2449.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getSwapFee(): uint256</text>
<text text-anchor="start" x="4271.84" y="-2432.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;finalizeSmartPool()</text>
<text text-anchor="start" x="4271.84" y="-2415.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;createPool(initialSupply: uint256)</text>
<text text-anchor="start" x="4271.84" y="-2398.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;calcTokensForAmount(_amount: uint256): (tokens: address[], amounts: uint256[])</text>
<text text-anchor="start" x="4271.84" y="-2381.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;calcPoolOutGivenSingleIn(_token: address, _amount: uint256): uint256</text>
<text text-anchor="start" x="4271.84" y="-2365.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;calcSingleInGivenPoolOut(_token: address, _amount: uint256): uint256</text>
<text text-anchor="start" x="4271.84" y="-2348.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;calcSingleOutGivenPoolIn(_token: address, _amount: uint256): uint256</text>
<text text-anchor="start" x="4271.84" y="-2331.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;calcPoolInGivenSingleOut(_token: address, _amount: uint256): uint256</text>
</g>
<!-- 3&#45;&gt;8 -->
<g id="edge20" class="edge">
<title>3&#45;&gt;8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4514.2324,-1958.8423C4527.4242,-2047.6848 4546.8571,-2178.5588 4566.8258,-2313.0416"/>
<polygon fill="#000000" stroke="#000000" points="4563.395,-2313.7667 4568.3259,-2323.1441 4570.3191,-2312.7385 4563.395,-2313.7667"/>
</g>
<!-- 20 -->
<g id="node21" class="node">
<title>20</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3791.8165,-2802.1 3791.8165,-2910.1 4207.1077,-2910.1 4207.1077,-2802.1 3791.8165,-2802.1"/>
<text text-anchor="middle" x="3999.4621" y="-2893.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="3999.4621" y="-2876.7" font-family="Times,serif" font-size="14.00" fill="#000000">LibSafeApprove</text>
<polyline fill="none" stroke="#000000" points="3791.8165,-2868.5 4207.1077,-2868.5 "/>
<text text-anchor="middle" x="3999.4621" y="-2851.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3791.8165,-2843.7 4207.1077,-2843.7 "/>
<text text-anchor="start" x="3799.8165" y="-2827.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3799.8165" y="-2810.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;safeApprove(_token: IERC20, _spender: address, _amount: uint256)</text>
</g>
<!-- 3&#45;&gt;20 -->
<g id="edge16" class="edge">
<title>3&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4426.5457,-1958.765C4368.0873,-2053.9845 4284.7886,-2194.8382 4221.4621,-2322.8 4139.5869,-2488.2424 4060.6838,-2691.4714 4022.8046,-2792.6244"/>
<polygon fill="#000000" stroke="#000000" points="4019.4893,-2791.4975 4019.2682,-2802.0901 4026.0466,-2793.9474 4019.4893,-2791.4975"/>
</g>
<!-- 9 -->
<g id="node5" class="node">
<title>9</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6092.8162,-605.3 6092.8162,-763.7 6328.108,-763.7 6328.108,-605.3 6092.8162,-605.3"/>
<text text-anchor="middle" x="6210.4621" y="-747.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="6210.4621" y="-730.3" font-family="Times,serif" font-size="14.00" fill="#000000">ISmartPoolRegistry</text>
<polyline fill="none" stroke="#000000" points="6092.8162,-722.1 6328.108,-722.1 "/>
<text text-anchor="middle" x="6210.4621" y="-705.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="6092.8162,-697.3 6328.108,-697.3 "/>
<text text-anchor="start" x="6100.8162" y="-680.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6100.8162" y="-663.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;inRegistry(_pool: address): bool</text>
<text text-anchor="start" x="6100.8162" y="-647.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;entries(_index: uint256): address</text>
<text text-anchor="start" x="6100.8162" y="-630.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;addSmartPool(_smartPool: address)</text>
<text text-anchor="start" x="6100.8162" y="-613.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;removeSmartPool(_index: uint256)</text>
</g>
<!-- 7 -->
<g id="node7" class="node">
<title>7</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5756.9862,-2768.5 5756.9862,-2943.7 6253.938,-2943.7 6253.938,-2768.5 5756.9862,-2768.5"/>
<text text-anchor="middle" x="6005.4621" y="-2927.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="6005.4621" y="-2910.3" font-family="Times,serif" font-size="14.00" fill="#000000">IPSmartPool</text>
<polyline fill="none" stroke="#000000" points="5756.9862,-2902.1 6253.938,-2902.1 "/>
<text text-anchor="middle" x="6005.4621" y="-2885.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="5756.9862,-2877.3 6253.938,-2877.3 "/>
<text text-anchor="start" x="5764.9862" y="-2860.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5764.9862" y="-2843.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;joinPool(_amount: uint256)</text>
<text text-anchor="start" x="5764.9862" y="-2827.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;exitPool(_amount: uint256)</text>
<text text-anchor="start" x="5764.9862" y="-2810.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getController(): address</text>
<text text-anchor="start" x="5764.9862" y="-2793.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getTokens(): address[]</text>
<text text-anchor="start" x="5764.9862" y="-2776.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;calcTokensForAmount(_amount: uint256): (tokens: address[], amounts: uint256[])</text>
</g>
<!-- 7&#45;&gt;6 -->
<g id="edge21" class="edge">
<title>7&#45;&gt;6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5987.7625,-2943.8297C5958.6988,-3064.0512 5888.9255,-3277.7682 5743.4621,-3389.4 5491.5066,-3582.756 4563.1946,-3693.4093 4120.0031,-3736.2739"/>
<polygon fill="none" stroke="#000000" points="4118.7777,-3725.8431 4089.9138,-3739.1519 4120.7773,-3746.7477 4118.7777,-3725.8431"/>
</g>
<!-- 10 -->
<g id="node10" class="node">
<title>10</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6271.6124,-2776.9 6271.6124,-2935.3 6769.3118,-2935.3 6769.3118,-2776.9 6271.6124,-2776.9"/>
<text text-anchor="middle" x="6520.4621" y="-2918.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="6520.4621" y="-2901.9" font-family="Times,serif" font-size="14.00" fill="#000000">IUniswapV2Exchange</text>
<polyline fill="none" stroke="#000000" points="6271.6124,-2893.7 6769.3118,-2893.7 "/>
<text text-anchor="middle" x="6520.4621" y="-2877.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="6271.6124,-2868.9 6769.3118,-2868.9 "/>
<text text-anchor="start" x="6279.6124" y="-2852.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6279.6124" y="-2835.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;swap(amount0Out: uint256, amount1Out: uint256, to: address, data: bytes)</text>
<text text-anchor="start" x="6279.6124" y="-2818.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;token0(): address</text>
<text text-anchor="start" x="6279.6124" y="-2801.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;token1(): address</text>
<text text-anchor="start" x="6279.6124" y="-2785.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getReserves(): (reserve0: uint112, reserve1: uint112, blockTimestampLast: uint32)</text>
</g>
<!-- 11 -->
<g id="node11" class="node">
<title>11</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6787.6047,-2802.1 6787.6047,-2910.1 7145.3195,-2910.1 7145.3195,-2802.1 6787.6047,-2802.1"/>
<text text-anchor="middle" x="6966.4621" y="-2893.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="6966.4621" y="-2876.7" font-family="Times,serif" font-size="14.00" fill="#000000">IUniswapV2Factory</text>
<polyline fill="none" stroke="#000000" points="6787.6047,-2868.5 7145.3195,-2868.5 "/>
<text text-anchor="middle" x="6966.4621" y="-2851.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="6787.6047,-2843.7 7145.3195,-2843.7 "/>
<text text-anchor="start" x="6795.6047" y="-2827.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6795.6047" y="-2810.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getPair(tokenA: address, tokenB: address): (pair: address)</text>
</g>
<!-- 12 -->
<g id="node12" class="node">
<title>12</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7369.9754,-3425.9 7369.9754,-4088.3 8148.9488,-4088.3 8148.9488,-3425.9 7369.9754,-3425.9"/>
<text text-anchor="middle" x="7759.4621" y="-4071.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="7759.4621" y="-4054.9" font-family="Times,serif" font-size="14.00" fill="#000000">IUniswapV2Pair</text>
<polyline fill="none" stroke="#000000" points="7369.9754,-4046.7 8148.9488,-4046.7 "/>
<text text-anchor="middle" x="7759.4621" y="-4030.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="7369.9754,-4021.9 8148.9488,-4021.9 "/>
<text text-anchor="start" x="7377.9754" y="-4005.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="7377.9754" y="-3988.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;MINIMUM_LIQUIDITY(): uint256</text>
<text text-anchor="start" x="7377.9754" y="-3971.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;name(): string</text>
<text text-anchor="start" x="7377.9754" y="-3954.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;decimals(): uint8</text>
<text text-anchor="start" x="7377.9754" y="-3938.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;totalSupply(): uint256</text>
<text text-anchor="start" x="7377.9754" y="-3921.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;balanceOf(owner: address): uint256</text>
<text text-anchor="start" x="7377.9754" y="-3904.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;allowance(owner: address, spender: address): uint256</text>
<text text-anchor="start" x="7377.9754" y="-3887.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;approve(spender: address, value: uint256): bool</text>
<text text-anchor="start" x="7377.9754" y="-3870.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;transfer(to: address, value: uint256): bool</text>
<text text-anchor="start" x="7377.9754" y="-3854.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;transferFrom(from: address, to: address, value: uint256): bool</text>
<text text-anchor="start" x="7377.9754" y="-3837.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;DOMAIN_SEPARATOR(): bytes32</text>
<text text-anchor="start" x="7377.9754" y="-3820.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;PERMIT_TYPEHASH(): bytes32</text>
<text text-anchor="start" x="7377.9754" y="-3803.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;nonces(owner: address): uint256</text>
<text text-anchor="start" x="7377.9754" y="-3786.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;permit(owner: address, spender: address, value: uint256, deadline: uint256, v: uint8, r: bytes32, s: bytes32)</text>
<text text-anchor="start" x="7377.9754" y="-3770.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;symbol(): string</text>
<text text-anchor="start" x="7377.9754" y="-3753.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;factory(): address</text>
<text text-anchor="start" x="7377.9754" y="-3736.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;token0(): address</text>
<text text-anchor="start" x="7377.9754" y="-3719.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;token1(): address</text>
<text text-anchor="start" x="7377.9754" y="-3702.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getReserves(): (reserve0: uint112, reserve1: uint112, blockTimestampLast: uint32)</text>
<text text-anchor="start" x="7377.9754" y="-3686.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;price0CumulativeLast(): uint256</text>
<text text-anchor="start" x="7377.9754" y="-3669.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;price1CumulativeLast(): uint256</text>
<text text-anchor="start" x="7377.9754" y="-3652.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;kLast(): uint256</text>
<text text-anchor="start" x="7377.9754" y="-3635.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;mint(to: address): (liquidity: uint256)</text>
<text text-anchor="start" x="7377.9754" y="-3618.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;burn(to: address): (amount0: uint256, amount1: uint256)</text>
<text text-anchor="start" x="7377.9754" y="-3602.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;swap(amount0Out: uint256, amount1Out: uint256, to: address, data: bytes)</text>
<text text-anchor="start" x="7377.9754" y="-3585.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;skim(to: address)</text>
<text text-anchor="start" x="7377.9754" y="-3568.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;sync()</text>
<text text-anchor="start" x="7377.9754" y="-3551.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;initialize(address, address)</text>
<text text-anchor="start" x="7377.9754" y="-3534.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7377.9754" y="-3518.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Approval(owner: address, spender: address, value: uint256)</text>
<text text-anchor="start" x="7377.9754" y="-3501.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Transfer(from: address, to: address, value: uint256)</text>
<text text-anchor="start" x="7377.9754" y="-3484.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Mint(sender: address, amount0: uint256, amount1: uint256)</text>
<text text-anchor="start" x="7377.9754" y="-3467.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Burn(sender: address, amount0: uint256, amount1: uint256, to: address)</text>
<text text-anchor="start" x="7377.9754" y="-3450.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Swap(sender: address, amount0In: uint256, amount1In: uint256, amount0Out: uint256, amount1Out: uint256, to: address)</text>
<text text-anchor="start" x="7377.9754" y="-3434.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Sync(reserve0: uint112, reserve1: uint112)</text>
</g>
<!-- 13 -->
<g id="node13" class="node">
<title>13</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3565.8702,-2793.7 3565.8702,-2918.5 3735.054,-2918.5 3735.054,-2793.7 3565.8702,-2793.7"/>
<text text-anchor="middle" x="3650.4621" y="-2901.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="3650.4621" y="-2885.1" font-family="Times,serif" font-size="14.00" fill="#000000">IWETH</text>
<polyline fill="none" stroke="#000000" points="3565.8702,-2876.9 3735.054,-2876.9 "/>
<text text-anchor="middle" x="3650.4621" y="-2860.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3565.8702,-2852.1 3735.054,-2852.1 "/>
<text text-anchor="start" x="3573.8702" y="-2835.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3573.8702" y="-2818.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;deposit()</text>
<text text-anchor="start" x="3573.8702" y="-2801.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;withdraw(wad: uint256)</text>
</g>
<!-- 13&#45;&gt;6 -->
<g id="edge22" class="edge">
<title>13&#45;&gt;6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3658.7595,-2918.824C3672.7909,-3019.2614 3704.1695,-3221.9103 3749.4621,-3389.4 3769.1651,-3462.2608 3796.6813,-3541.2578 3821.4949,-3607.2885"/>
<polygon fill="none" stroke="#000000" points="3811.8182,-3611.3828 3832.2991,-3635.6888 3831.4459,-3603.9158 3811.8182,-3611.3828"/>
</g>
<!-- 8&#45;&gt;6 -->
<g id="edge23" class="edge">
<title>8&#45;&gt;6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4263.655,-3372.8736C4258.9196,-3378.4299 4254.1876,-3383.9406 4249.4621,-3389.4 4182.2592,-3467.0397 4102.1629,-3548.2432 4033.8811,-3614.531"/>
<polygon fill="none" stroke="#000000" points="4026.4466,-3607.1137 4012.1581,-3635.5054 4041.0333,-3622.2209 4026.4466,-3607.1137"/>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3170.4918,-1775.1 3170.4918,-1916.7 3688.4324,-1916.7 3688.4324,-1775.1 3170.4918,-1775.1"/>
<text text-anchor="middle" x="3429.4621" y="-1900.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="3429.4621" y="-1883.3" font-family="Times,serif" font-size="14.00" fill="#000000">LibAddRemoveToken</text>
<polyline fill="none" stroke="#000000" points="3170.4918,-1875.1 3688.4324,-1875.1 "/>
<text text-anchor="middle" x="3429.4621" y="-1858.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3170.4918,-1850.3 3688.4324,-1850.3 "/>
<text text-anchor="start" x="3178.4918" y="-1833.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3178.4918" y="-1816.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;applyAddToken()</text>
<text text-anchor="start" x="3178.4918" y="-1800.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;commitAddToken(_token: address, _balance: uint256, _denormalizedWeight: uint256)</text>
<text text-anchor="start" x="3178.4918" y="-1783.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removeToken(_token: address)</text>
</g>
<!-- 14&#45;&gt;6 -->
<g id="edge26" class="edge">
<title>14&#45;&gt;6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3432.668,-1916.9014C3445.8858,-2201.7332 3498.2075,-3252.7457 3556.4621,-3389.4 3595.0666,-3479.9589 3665.0319,-3563.6777 3730.1837,-3628.2823"/>
<polygon fill="#000000" stroke="#000000" points="3728.1085,-3631.1504 3737.6929,-3635.6659 3733.0164,-3626.159 3728.1085,-3631.1504"/>
</g>
<!-- 14&#45;&gt;19 -->
<g id="edge27" class="edge">
<title>14&#45;&gt;19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3409.9483,-1916.7979C3377.486,-2019.3946 3301.6623,-2205.814 3161.4621,-2286.8 3086.2038,-2330.2726 1658.2069,-2260.6409 1597.4621,-2322.8 1503.7715,-2418.6719 1577.5917,-3367.964 1603.4172,-3667.2271"/>
<polygon fill="#000000" stroke="#000000" points="1599.9654,-3667.9355 1604.3153,-3677.5961 1606.9393,-3667.3314 1599.9654,-3667.9355"/>
</g>
<!-- 14&#45;&gt;20 -->
<g id="edge25" class="edge">
<title>14&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3462.285,-1916.9333C3506.942,-2008.8204 3593.3282,-2170.8277 3697.4621,-2286.8 3715.0417,-2306.3781 3727.8845,-2302.3665 3744.4621,-2322.8 3865.0034,-2471.379 3945.214,-2686.3834 3979.9075,-2792.2689"/>
<polygon fill="#000000" stroke="#000000" points="3976.6051,-2793.4318 3983.0235,-2801.8613 3983.2627,-2791.2691 3976.6051,-2793.4318"/>
</g>
<!-- 14&#45;&gt;23 -->
<g id="edge24" class="edge">
<title>14&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3430.9488,-1916.9391C3436.0494,-2180.247 3450.1159,-3100.1869 3404.4621,-3389.4 3353.7758,-3710.4939 3436.8997,-3876.812 3190.4621,-4088.8 3008.5249,-4245.3041 2312.1888,-4288.6857 1949.7187,-4300.7022"/>
<polygon fill="#000000" stroke="#000000" points="1949.5049,-4297.2072 1939.6244,-4301.0316 1949.7333,-4304.2035 1949.5049,-4297.2072"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6346.265,-605.3 6346.265,-763.7 6570.6592,-763.7 6570.6592,-605.3 6346.265,-605.3"/>
<text text-anchor="middle" x="6458.4621" y="-747.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="6458.4621" y="-730.3" font-family="Times,serif" font-size="14.00" fill="#000000">LibConst</text>
<polyline fill="none" stroke="#000000" points="6346.265,-722.1 6570.6592,-722.1 "/>
<text text-anchor="start" x="6354.265" y="-705.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6354.265" y="-688.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_WEIGHT: uint256</text>
<text text-anchor="start" x="6354.265" y="-671.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_WEIGHT: uint256</text>
<text text-anchor="start" x="6354.265" y="-655.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_TOTAL_WEIGHT: uint256</text>
<text text-anchor="start" x="6354.265" y="-638.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MIN_BALANCE: uint256</text>
<polyline fill="none" stroke="#000000" points="6346.265,-630.1 6570.6592,-630.1 "/>
<text text-anchor="middle" x="6458.4621" y="-613.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<polygon fill="#f2f2f2" stroke="#000000" points="916.1598,-2734.9 916.1598,-2977.3 1398.7644,-2977.3 1398.7644,-2734.9 916.1598,-2734.9"/>
<text text-anchor="middle" x="1157.4621" y="-2960.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="1157.4621" y="-2943.9" font-family="Times,serif" font-size="14.00" fill="#000000">LibFees</text>
<polyline fill="none" stroke="#000000" points="916.1598,-2935.7 1398.7644,-2935.7 "/>
<text text-anchor="start" x="924.1598" y="-2919.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="924.1598" y="-2902.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_ANNUAL_FEE: uint256</text>
<polyline fill="none" stroke="#000000" points="916.1598,-2894.1 1398.7644,-2894.1 "/>
<text text-anchor="start" x="924.1598" y="-2877.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="924.1598" y="-2860.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcOutstandingAnnualFee(): uint256</text>
<text text-anchor="start" x="924.1598" y="-2843.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;chargeOutstandingAnnualFee()</text>
<text text-anchor="start" x="924.1598" y="-2827.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setFeeRecipient(_newRecipient: address)</text>
<text text-anchor="start" x="924.1598" y="-2810.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setAnnualFee(_newFee: uint256)</text>
<text text-anchor="start" x="924.1598" y="-2793.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="924.1598" y="-2776.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AnnualFeeClaimed(amount: uint256)</text>
<text text-anchor="start" x="924.1598" y="-2759.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AnnualFeeChanged(oldFee: uint256, newFee: uint256)</text>
<text text-anchor="start" x="924.1598" y="-2743.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; FeeRecipientChanged(oldRecipient: address, newRecipient: address)</text>
</g>
<!-- 16&#45;&gt;19 -->
<g id="edge29" class="edge">
<title>16&#45;&gt;19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1213.3542,-2977.4067C1263.9119,-3086.0515 1341.1465,-3249.3669 1412.4621,-3389.4 1461.6048,-3485.895 1521.0524,-3594.7965 1562.1053,-3668.8745"/>
<polygon fill="#000000" stroke="#000000" points="1559.1074,-3670.6854 1567.0187,-3677.7326 1565.2288,-3667.29 1559.1074,-3670.6854"/>
</g>
<!-- 16&#45;&gt;23 -->
<g id="edge28" class="edge">
<title>16&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1146.1352,-2977.7483C1130.4878,-3213.9111 1127.1643,-3741.7142 1364.4621,-4088.8 1399.9402,-4140.6924 1452.3231,-4182.0986 1506.324,-4214.2258"/>
<polygon fill="#000000" stroke="#000000" points="1504.6035,-4217.2742 1515.0024,-4219.3025 1508.1381,-4211.2321 1504.6035,-4217.2742"/>
</g>
<!-- 17 -->
<g id="node18" class="node">
<title>17</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1454.59,-1632.3 1454.59,-2059.5 2218.3342,-2059.5 2218.3342,-1632.3 1454.59,-1632.3"/>
<text text-anchor="middle" x="1836.4621" y="-2042.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="1836.4621" y="-2026.1" font-family="Times,serif" font-size="14.00" fill="#000000">LibPoolEntryExit</text>
<polyline fill="none" stroke="#000000" points="1454.59,-2017.9 2218.3342,-2017.9 "/>
<text text-anchor="middle" x="1836.4621" y="-2001.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1454.59,-1993.1 2218.3342,-1993.1 "/>
<text text-anchor="start" x="1462.59" y="-1976.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1462.59" y="-1959.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exitPool(_amount: uint256)</text>
<text text-anchor="start" x="1462.59" y="-1942.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_exitPool(_amount: uint256, _minAmountsOut: uint256[])</text>
<text text-anchor="start" x="1462.59" y="-1926.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_contains(_needle: address, _haystack: address[]): bool</text>
<text text-anchor="start" x="1462.59" y="-1909.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_joinPool(_amount: uint256, _maxAmountsIn: uint256[])</text>
<text text-anchor="start" x="1462.59" y="-1892.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1462.59" y="-1875.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exitPool(_amount: uint256, _minAmountsOut: uint256[])</text>
<text text-anchor="start" x="1462.59" y="-1858.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exitswapPoolAmountIn(_token: address, _poolAmountIn: uint256, _minAmountOut: uint256): (tokenAmountOut: uint256)</text>
<text text-anchor="start" x="1462.59" y="-1842.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exitswapExternAmountOut(_token: address, _tokenAmountOut: uint256, _maxPoolAmountIn: uint256): (poolAmountIn: uint256)</text>
<text text-anchor="start" x="1462.59" y="-1825.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exitPoolTakingloss(_amount: uint256, _lossTokens: address[])</text>
<text text-anchor="start" x="1462.59" y="-1808.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;joinPool(_amount: uint256)</text>
<text text-anchor="start" x="1462.59" y="-1791.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;joinPool(_amount: uint256, _maxAmountsIn: uint256[])</text>
<text text-anchor="start" x="1462.59" y="-1774.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;joinswapExternAmountIn(_token: address, _amountIn: uint256, _minPoolAmountOut: uint256): (poolAmountOut: uint256)</text>
<text text-anchor="start" x="1462.59" y="-1758.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;joinswapPoolAmountOut(_token: address, _amountOut: uint256, _maxAmountIn: uint256): (tokenAmountIn: uint256)</text>
<text text-anchor="start" x="1462.59" y="-1741.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1462.59" y="-1724.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LOG_EXIT(caller: address, tokenOut: address, tokenAmountOut: uint256)</text>
<text text-anchor="start" x="1462.59" y="-1707.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LOG_JOIN(caller: address, tokenIn: address, tokenAmountIn: uint256)</text>
<text text-anchor="start" x="1462.59" y="-1690.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PoolExited(from: address, amount: uint256)</text>
<text text-anchor="start" x="1462.59" y="-1674.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PoolExitedWithLoss(from: address, amount: uint256, lossTokens: address[])</text>
<text text-anchor="start" x="1462.59" y="-1657.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PoolJoined(from: address, amount: uint256)</text>
<text text-anchor="start" x="1462.59" y="-1640.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; lockBPoolSwap()</text>
</g>
<!-- 17&#45;&gt;5 -->
<g id="edge31" class="edge">
<title>17&#45;&gt;5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1702.7596,-2059.7571C1660.3251,-2139.2682 1618.8878,-2232.2261 1597.4621,-2322.8 1570.1806,-2438.1283 1520.4738,-3299.3018 1597.4621,-3389.4 1630.7844,-3428.3966 1776.83,-3409.0897 1825.4621,-3425.4 1924.2537,-3458.5329 2026.1139,-3506.3824 2118.0435,-3555.4727"/>
<polygon fill="#000000" stroke="#000000" points="2116.4416,-3558.5851 2126.9084,-3560.2268 2119.7499,-3552.4162 2116.4416,-3558.5851"/>
</g>
<!-- 17&#45;&gt;16 -->
<g id="edge32" class="edge">
<title>17&#45;&gt;16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1650.0032,-2059.5672C1583.7186,-2139.7286 1510.6659,-2233.1588 1450.4621,-2322.8 1362.0239,-2454.4811 1276.5305,-2615.1599 1220.9526,-2725.518"/>
<polygon fill="#000000" stroke="#000000" points="1217.6992,-2724.1973 1216.3368,-2734.7042 1223.954,-2727.3402 1217.6992,-2724.1973"/>
</g>
<!-- 17&#45;&gt;19 -->
<g id="edge33" class="edge">
<title>17&#45;&gt;19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1660.0153,-2059.7233C1606.2412,-2137.6813 1554.0733,-2229.6612 1526.4621,-2322.8 1459.0943,-2550.0468 1499.5971,-3153.9052 1526.4621,-3389.4 1537.4783,-3485.9663 1564.2678,-3594.0823 1584.852,-3667.9394"/>
<polygon fill="#000000" stroke="#000000" points="1581.5127,-3668.9942 1587.5851,-3677.6762 1588.2523,-3667.1024 1581.5127,-3668.9942"/>
</g>
<!-- 21 -->
<g id="node22" class="node">
<title>21</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1606.2362,-2793.7 1606.2362,-2918.5 2162.688,-2918.5 2162.688,-2793.7 1606.2362,-2793.7"/>
<text text-anchor="middle" x="1884.4621" y="-2901.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="1884.4621" y="-2885.1" font-family="Times,serif" font-size="14.00" fill="#000000">LibUnderlying</text>
<polyline fill="none" stroke="#000000" points="1606.2362,-2876.9 2162.688,-2876.9 "/>
<text text-anchor="middle" x="1884.4621" y="-2860.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1606.2362,-2852.1 2162.688,-2852.1 "/>
<text text-anchor="start" x="1614.2362" y="-2835.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="1614.2362" y="-2818.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_pullUnderlying(_token: address, _from: address, _amount: uint256, _tokenBalance: uint256)</text>
<text text-anchor="start" x="1614.2362" y="-2801.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_pushUnderlying(_token: address, _to: address, _amount: uint256, _tokenBalance: uint256)</text>
</g>
<!-- 17&#45;&gt;21 -->
<g id="edge34" class="edge">
<title>17&#45;&gt;21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1846.6123,-2059.5199C1857.4064,-2286.6895 1873.8826,-2633.4459 1880.9947,-2783.1262"/>
<polygon fill="#000000" stroke="#000000" points="1877.5196,-2783.7356 1881.4904,-2793.5582 1884.5118,-2783.4033 1877.5196,-2783.7356"/>
</g>
<!-- 17&#45;&gt;23 -->
<g id="edge30" class="edge">
<title>17&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1640.194,-2059.6352C1580.3095,-2137.0649 1521.1733,-2228.7395 1486.4621,-2322.8 1321.8943,-2768.7466 1489.0244,-2921.1068 1407.4621,-3389.4 1404.6128,-3405.7595 1399.7049,-3408.9463 1397.4621,-3425.4 1357.6406,-3717.5429 1257.3793,-3829.3582 1397.4621,-4088.8 1422.6936,-4135.5303 1462.895,-4173.8094 1506.6891,-4204.4713"/>
<polygon fill="#000000" stroke="#000000" points="1504.9714,-4207.5372 1515.1983,-4210.305 1508.9295,-4201.7637 1504.9714,-4207.5372"/>
</g>
<!-- 18 -->
<g id="node19" class="node">
<title>18</title>
<polygon fill="#f2f2f2" stroke="#000000" points="198.6324,-1674.3 198.6324,-2017.5 1342.2918,-2017.5 1342.2918,-1674.3 198.6324,-1674.3"/>
<text text-anchor="middle" x="770.4621" y="-2000.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="770.4621" y="-1984.1" font-family="Times,serif" font-size="14.00" fill="#000000">LibPoolMath</text>
<polyline fill="none" stroke="#000000" points="198.6324,-1975.9 1342.2918,-1975.9 "/>
<text text-anchor="start" x="206.6324" y="-1959.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="206.6324" y="-1942.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;BONE: uint256</text>
<text text-anchor="start" x="206.6324" y="-1925.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;EXIT_FEE: uint256</text>
<polyline fill="none" stroke="#000000" points="198.6324,-1917.5 1342.2918,-1917.5 "/>
<text text-anchor="start" x="206.6324" y="-1900.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="206.6324" y="-1884.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcSpotPrice(tokenBalanceIn: uint256, tokenWeightIn: uint256, tokenBalanceOut: uint256, tokenWeightOut: uint256, swapFee: uint256): (spotPrice: uint256)</text>
<text text-anchor="start" x="206.6324" y="-1867.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcOutGivenIn(tokenBalanceIn: uint256, tokenWeightIn: uint256, tokenBalanceOut: uint256, tokenWeightOut: uint256, tokenAmountIn: uint256, swapFee: uint256): (tokenAmountOut: uint256)</text>
<text text-anchor="start" x="206.6324" y="-1850.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcInGivenOut(tokenBalanceIn: uint256, tokenWeightIn: uint256, tokenBalanceOut: uint256, tokenWeightOut: uint256, tokenAmountOut: uint256, swapFee: uint256): (tokenAmountIn: uint256)</text>
<text text-anchor="start" x="206.6324" y="-1833.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcPoolOutGivenSingleIn(tokenBalanceIn: uint256, tokenWeightIn: uint256, poolSupply: uint256, totalWeight: uint256, tokenAmountIn: uint256, swapFee: uint256): (poolAmountOut: uint256)</text>
<text text-anchor="start" x="206.6324" y="-1816.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcSingleInGivenPoolOut(tokenBalanceIn: uint256, tokenWeightIn: uint256, poolSupply: uint256, totalWeight: uint256, poolAmountOut: uint256, swapFee: uint256): (tokenAmountIn: uint256)</text>
<text text-anchor="start" x="206.6324" y="-1800.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcSingleOutGivenPoolIn(tokenBalanceOut: uint256, tokenWeightOut: uint256, poolSupply: uint256, totalWeight: uint256, poolAmountIn: uint256, swapFee: uint256): (tokenAmountOut: uint256)</text>
<text text-anchor="start" x="206.6324" y="-1783.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcPoolInGivenSingleOut(tokenBalanceOut: uint256, tokenWeightOut: uint256, poolSupply: uint256, totalWeight: uint256, tokenAmountOut: uint256, swapFee: uint256): (poolAmountIn: uint256)</text>
<text text-anchor="start" x="206.6324" y="-1766.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="206.6324" y="-1749.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcTokensForAmount(_amount: uint256): (tokens: address[], amounts: uint256[])</text>
<text text-anchor="start" x="206.6324" y="-1732.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcPoolOutGivenSingleIn(_token: address, _amount: uint256): uint256</text>
<text text-anchor="start" x="206.6324" y="-1716.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcSingleInGivenPoolOut(_token: address, _amount: uint256): uint256</text>
<text text-anchor="start" x="206.6324" y="-1699.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcSingleOutGivenPoolIn(_token: address, _amount: uint256): uint256</text>
<text text-anchor="start" x="206.6324" y="-1682.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcPoolInGivenSingleOut(_token: address, _amount: uint256): uint256</text>
</g>
<!-- 18&#45;&gt;16 -->
<g id="edge36" class="edge">
<title>18&#45;&gt;16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M836.2209,-2017.5527C912.9348,-2217.8016 1038.0676,-2544.4402 1107.3431,-2725.2724"/>
<polygon fill="#000000" stroke="#000000" points="1104.1615,-2726.7514 1111.0074,-2734.8375 1110.6983,-2724.2472 1104.1615,-2726.7514"/>
</g>
<!-- 18&#45;&gt;18 -->
<g id="edge37" class="edge">
<title>18&#45;&gt;18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1021.6416,-1674.2184C1192.7056,-1623.8327 1360.2918,-1681.0599 1360.2918,-1845.9 1360.2918,-2007.601 1199.0275,-2065.7487 1031.4094,-2020.343"/>
<polygon fill="#000000" stroke="#000000" points="1032.2167,-2016.9341 1021.6416,-2017.5816 1030.3123,-2023.6701 1032.2167,-2016.9341"/>
</g>
<!-- 18&#45;&gt;23 -->
<g id="edge35" class="edge">
<title>18&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M741.191,-2017.6592C680.6629,-2435.6971 590.693,-3513.8663 1152.4621,-4088.8 1246.1797,-4184.7138 1386.5174,-4238.6359 1505.0864,-4268.6783"/>
<polygon fill="#000000" stroke="#000000" points="1504.4836,-4272.1351 1515.033,-4271.1558 1506.1755,-4265.3426 1504.4836,-4272.1351"/>
</g>
<!-- 19&#45;&gt;23 -->
<g id="edge38" class="edge">
<title>19&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1628.2675,-3836.5201C1643.6713,-3909.3163 1667.0872,-4019.9766 1687.3007,-4115.5029"/>
<polygon fill="#000000" stroke="#000000" points="1683.8771,-4116.2305 1689.3715,-4125.2893 1690.7255,-4114.7813 1683.8771,-4116.2305"/>
</g>
<!-- 20&#45;&gt;6 -->
<g id="edge39" class="edge">
<title>20&#45;&gt;6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3992.3464,-2910.4325C3974.057,-3050.0829 3925.0023,-3424.6448 3898.6934,-3625.5285"/>
<polygon fill="#000000" stroke="#000000" points="3895.209,-3625.1821 3897.3807,-3635.5519 3902.1497,-3626.0911 3895.209,-3625.1821"/>
</g>
<!-- 21&#45;&gt;6 -->
<g id="edge42" class="edge">
<title>21&#45;&gt;6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1901.3629,-2918.6613C1936.5513,-3035.1812 2029.7684,-3283.2244 2209.4621,-3389.4 2287.979,-3435.7933 2940.2208,-3406.6055 3029.4621,-3425.4 3253.4726,-3472.5773 3495.4917,-3571.8736 3664.1321,-3649.5916"/>
<polygon fill="#000000" stroke="#000000" points="3662.8195,-3652.8407 3673.3653,-3653.859 3665.7563,-3646.4865 3662.8195,-3652.8407"/>
</g>
<!-- 21&#45;&gt;5 -->
<g id="edge41" class="edge">
<title>21&#45;&gt;5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1915.3811,-2918.8131C1966.0627,-3020.0882 2071.6917,-3224.9175 2176.4621,-3389.4 2210.7918,-3443.2953 2250.3018,-3499.7427 2288.3168,-3551.78"/>
<polygon fill="#000000" stroke="#000000" points="2285.6721,-3554.0925 2294.4041,-3560.0927 2291.3197,-3549.9568 2285.6721,-3554.0925"/>
</g>
<!-- 21&#45;&gt;23 -->
<g id="edge40" class="edge">
<title>21&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1882.1245,-2918.5629C1872.9551,-3161.3215 1839.2718,-4031.4865 1825.4621,-4088.8 1823.3329,-4097.6368 1820.8443,-4106.5561 1818.074,-4115.4782"/>
<polygon fill="#000000" stroke="#000000" points="1814.691,-4114.5655 1814.9611,-4125.1569 1821.3549,-4116.7088 1814.691,-4114.5655"/>
</g>
<!-- 22 -->
<g id="node23" class="node">
<title>22</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2405.8193,-2785.3 2405.8193,-2926.9 2961.1049,-2926.9 2961.1049,-2785.3 2405.8193,-2785.3"/>
<text text-anchor="middle" x="2683.4621" y="-2910.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="2683.4621" y="-2893.5" font-family="Times,serif" font-size="14.00" fill="#000000">LibWeights</text>
<polyline fill="none" stroke="#000000" points="2405.8193,-2885.3 2961.1049,-2885.3 "/>
<text text-anchor="middle" x="2683.4621" y="-2868.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2405.8193,-2860.5 2961.1049,-2860.5 "/>
<text text-anchor="start" x="2413.8193" y="-2843.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2413.8193" y="-2827.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateWeight(_token: address, _newWeight: uint256)</text>
<text text-anchor="start" x="2413.8193" y="-2810.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateWeightsGradually(_newWeights: uint256[], _startBlock: uint256, _endBlock: uint256)</text>
<text text-anchor="start" x="2413.8193" y="-2793.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pokeWeights()</text>
</g>
<!-- 22&#45;&gt;6 -->
<g id="edge44" class="edge">
<title>22&#45;&gt;6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2703.9949,-2927.1005C2740.0553,-3039.9392 2825.0702,-3260.5796 2970.4621,-3389.4 3003.326,-3418.5181 3021.6685,-3409.1585 3062.4621,-3425.4 3266.6884,-3506.7105 3498.8826,-3600.9181 3663.752,-3668.1105"/>
<polygon fill="#000000" stroke="#000000" points="3662.4485,-3671.3588 3673.0299,-3671.8922 3665.0907,-3664.8766 3662.4485,-3671.3588"/>
</g>
<!-- 22&#45;&gt;19 -->
<g id="edge45" class="edge">
<title>22&#45;&gt;19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2668.5448,-2927.2786C2639.4703,-3046.168 2562.9948,-3282.6133 2397.4621,-3389.4 2297.5182,-3453.8747 1968.1668,-3368.9846 1863.4621,-3425.4 1764.3019,-3478.828 1692.5231,-3590.0205 1651.5115,-3668.9152"/>
<polygon fill="#000000" stroke="#000000" points="1648.3587,-3667.3929 1646.907,-3677.8878 1654.5866,-3670.5889 1648.3587,-3667.3929"/>
</g>
<!-- 22&#45;&gt;23 -->
<g id="edge43" class="edge">
<title>22&#45;&gt;23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2707.7197,-2926.9373C2748.0947,-3036.6357 2837.9597,-3249.5201 2970.4621,-3389.4 2991.5871,-3411.7012 3014.4269,-3398.6129 3029.4621,-3425.4 3101.6189,-3553.9563 3124.7731,-3976.3317 3029.4621,-4088.8 2960.5192,-4170.1536 2303.4273,-4247.667 1949.9731,-4283.9106"/>
<polygon fill="#000000" stroke="#000000" points="1949.4568,-4280.445 1939.8648,-4284.9443 1950.169,-4287.4087 1949.4568,-4280.445"/>
</g>
<!-- 24 -->
<g id="node25" class="node">
<title>24</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6994.7657,-3644.3 6994.7657,-3869.9 7352.1585,-3869.9 7352.1585,-3644.3 6994.7657,-3644.3"/>
<text text-anchor="middle" x="7173.4621" y="-3853.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="7173.4621" y="-3836.5" font-family="Times,serif" font-size="14.00" fill="#000000">SafeMath</text>
<polyline fill="none" stroke="#000000" points="6994.7657,-3828.3 7352.1585,-3828.3 "/>
<text text-anchor="middle" x="7173.4621" y="-3811.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="6994.7657,-3803.5 7352.1585,-3803.5 "/>
<text text-anchor="start" x="7002.7657" y="-3786.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7002.7657" y="-3770.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;add(a: uint256, b: uint256): uint256</text>
<text text-anchor="start" x="7002.7657" y="-3753.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sub(a: uint256, b: uint256): uint256</text>
<text text-anchor="start" x="7002.7657" y="-3736.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sub(a: uint256, b: uint256, errorMessage: string): uint256</text>
<text text-anchor="start" x="7002.7657" y="-3719.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mul(a: uint256, b: uint256): uint256</text>
<text text-anchor="start" x="7002.7657" y="-3702.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;div(a: uint256, b: uint256): uint256</text>
<text text-anchor="start" x="7002.7657" y="-3686.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;div(a: uint256, b: uint256, errorMessage: string): uint256</text>
<text text-anchor="start" x="7002.7657" y="-3669.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mod(a: uint256, b: uint256): uint256</text>
<text text-anchor="start" x="7002.7657" y="-3652.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mod(a: uint256, b: uint256, errorMessage: string): uint256</text>
</g>
<!-- 25 -->
<g id="node26" class="node">
<title>25</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5252.9122,-1405.5 5252.9122,-2286.3 6206.012,-2286.3 6206.012,-1405.5 5252.9122,-1405.5"/>
<text text-anchor="middle" x="5729.4621" y="-2269.7" font-family="Times,serif" font-size="14.00" fill="#000000">MindfulProxy</text>
<polyline fill="none" stroke="#000000" points="5252.9122,-2261.5 6206.012,-2261.5 "/>
<text text-anchor="start" x="5260.9122" y="-2244.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5260.9122" y="-2228.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UNISWAP_FACTORY: IUniswapV2Factory</text>
<text text-anchor="start" x="5260.9122" y="-2211.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;balancerFactory: IBFactory</text>
<text text-anchor="start" x="5260.9122" y="-2194.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;smartPoolImplementation: address</text>
<text text-anchor="start" x="5260.9122" y="-2177.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;isPaused: bool</text>
<text text-anchor="start" x="5260.9122" y="-2160.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;chakraManager: mapping(address=&gt;address)</text>
<text text-anchor="start" x="5260.9122" y="-2144.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;isChakra: mapping(address=&gt;bool)</text>
<text text-anchor="start" x="5260.9122" y="-2127.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;sellStrategyChakra: mapping(uint256=&gt;address)</text>
<text text-anchor="start" x="5260.9122" y="-2110.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;buyStrategyChakra: mapping(uint256=&gt;address)</text>
<text text-anchor="start" x="5260.9122" y="-2093.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;chakras: address[]</text>
<text text-anchor="start" x="5260.9122" y="-2076.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;sellStrategies: SellStrategy[]</text>
<text text-anchor="start" x="5260.9122" y="-2060.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;buyStrategies: BuyStrategy[]</text>
<polyline fill="none" stroke="#000000" points="5252.9122,-2051.9 6206.012,-2051.9 "/>
<text text-anchor="start" x="5260.9122" y="-2035.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="5260.9122" y="-2018.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;token0Or1(tokenA: address, tokenB: address): uint256</text>
<text text-anchor="start" x="5260.9122" y="-2001.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_toChakra(_chakra: address, _baseToken: address, _poolAmount: uint256)</text>
<text text-anchor="start" x="5260.9122" y="-1984.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isRelayerBuying(_chakra: address, _baseToken: address, _buyStrategyId: uint256): (bool, payable: address, address, uint256)</text>
<text text-anchor="start" x="5260.9122" y="-1968.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isRelayerSelling(_chakra: address, _sellToken: address, _sellStrategyId: uint256, _tokenIndex: uint256): (bool, payable: address, address, uint256)</text>
<text text-anchor="start" x="5260.9122" y="-1951.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5260.9122" y="-1934.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; toChakra(_chakra: address, _baseToken: address, _poolAmount: uint256, _baseAmount: uint256, _buyStrategyId: uint256)</text>
<text text-anchor="start" x="5260.9122" y="-1917.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setImplementation(_implementation: address)</text>
<text text-anchor="start" x="5260.9122" y="-1900.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addBuyStrategy(_chakra: address, _buyToken: address, _name: string, _interBuyDelay: uint256, _buyAmount: uint256)</text>
<text text-anchor="start" x="5260.9122" y="-1884.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;disableSellStrategy(_chakra: address, _sellStrategyId: uint256)</text>
<text text-anchor="start" x="5260.9122" y="-1867.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;disableBuyStrategy(_chakra: address, _buyStrategyId: uint256)</text>
<text text-anchor="start" x="5260.9122" y="-1850.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;enableSellStrategy(_chakra: address, _sellStrategyId: uint256)</text>
<text text-anchor="start" x="5260.9122" y="-1833.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;enableBuyStrategy(_chakra: address, _buyStrategyId: uint256)</text>
<text text-anchor="start" x="5260.9122" y="-1816.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addSellStrategy(_chakra: address, _name: string, _sellTokens: address[], _prices: uint256[])</text>
<text text-anchor="start" x="5260.9122" y="-1800.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;fromChakra(_arg: FromChakraArg)</text>
<text text-anchor="start" x="5260.9122" y="-1783.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;saveEth()</text>
<text text-anchor="start" x="5260.9122" y="-1766.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;saveToken(_token: address)</text>
<text text-anchor="start" x="5260.9122" y="-1749.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;fromChakra(_chakra: address, _sellToken: address, _poolAmountOut: uint256): uint256</text>
<text text-anchor="start" x="5260.9122" y="-1732.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getChakras(): address[]</text>
<text text-anchor="start" x="5260.9122" y="-1716.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSellStrategies(): SellStrategy[]</text>
<text text-anchor="start" x="5260.9122" y="-1699.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBuyStrategies(): BuyStrategy[]</text>
<text text-anchor="start" x="5260.9122" y="-1682.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5260.9122" y="-1665.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BuyStrategyEnabled(chakra: address, buyStrategyId: uint256)</text>
<text text-anchor="start" x="5260.9122" y="-1648.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SellStrategyUpdated(chakra: address, sellStrategyId: uint256)</text>
<text text-anchor="start" x="5260.9122" y="-1632.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SellStrategyAdded(chakra: address, sellStrategyName: string, sellStrategyId: uint256)</text>
<text text-anchor="start" x="5260.9122" y="-1615.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BuyStrategyDisabled(chakra: address, buyStrategyId: uint256)</text>
<text text-anchor="start" x="5260.9122" y="-1598.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SellStrategyDisabled(chakra: address, sellStrategyId: uint256)</text>
<text text-anchor="start" x="5260.9122" y="-1581.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BuyStrategyAdded(chakra: address, buyStrategyName: string, buyStrategyId: uint256)</text>
<text text-anchor="start" x="5260.9122" y="-1564.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SellStrategyEnabled(chakra: address, sellStrategyId: uint256)</text>
<text text-anchor="start" x="5260.9122" y="-1548.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SmartPoolCreated(chakra: address, chakraManager: address, name: string, symbol: string)</text>
<text text-anchor="start" x="5260.9122" y="-1531.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BuyStrategyUpdated(chakra: address, sellStrategyId: uint256)</text>
<text text-anchor="start" x="5260.9122" y="-1514.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; revertIfPaused()</text>
<text text-anchor="start" x="5260.9122" y="-1497.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyChakraManager(_chakra: address, _sender: address)</text>
<text text-anchor="start" x="5260.9122" y="-1480.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="5260.9122" y="-1464.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_balancerFactory: address, _implementation: address)</text>
<text text-anchor="start" x="5260.9122" y="-1447.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;togglePause()</text>
<text text-anchor="start" x="5260.9122" y="-1430.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;newProxiedSmartPool(_name: string, _symbol: string, _initialSupply: uint256, _tokens: address[], _amounts: uint256[], _weights: uint256[], _cap: uint256): address</text>
<text text-anchor="start" x="5260.9122" y="-1413.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcToChakra(_chakra: address, _curreny: address, _poolAmount: uint256): uint256</text>
</g>
<!-- 25&#45;&gt;0 -->
<g id="edge46" class="edge">
<title>25&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M5521.0309,-2286.4245C5515.4276,-2298.6703 5509.8952,-2310.814 5504.4621,-2322.8 5439.5756,-2465.9473 5367.8222,-2632.1855 5321.5424,-2740.5098"/>
<polygon fill="none" stroke="#000000" points="5311.7398,-2736.7291 5309.6246,-2768.4431 5331.0552,-2744.9701 5311.7398,-2736.7291"/>
</g>
<!-- 25&#45;&gt;6 -->
<g id="edge52" class="edge">
<title>25&#45;&gt;6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5736.0225,-2286.3052C5740.5603,-2727.479 5740.537,-3347.222 5705.4621,-3389.4 5502.7692,-3633.1406 4538.7615,-3719.2716 4099.9297,-3746.1957"/>
<polygon fill="#000000" stroke="#000000" points="4099.4308,-3742.7195 4089.6619,-3746.8207 4099.8561,-3749.7066 4099.4308,-3742.7195"/>
</g>
<!-- 25&#45;&gt;7 -->
<g id="edge54" class="edge">
<title>25&#45;&gt;7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5849.8172,-2286.417C5897.8137,-2462.0911 5948.7051,-2648.3612 5978.7517,-2758.336"/>
<polygon fill="#000000" stroke="#000000" points="5975.4027,-2759.3586 5981.4146,-2768.0825 5982.1552,-2757.5136 5975.4027,-2759.3586"/>
</g>
<!-- 25&#45;&gt;4 -->
<g id="edge50" class="edge">
<title>25&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M5667.9764,-2286.417C5640.7579,-2481.4245 5611.7171,-2689.4885 5597.4429,-2791.7569"/>
<polygon fill="#000000" stroke="#000000" points="5593.9412,-2791.5267 5596.0251,-2801.9145 5600.874,-2792.4944 5593.9412,-2791.5267"/>
</g>
<!-- 25&#45;&gt;5 -->
<g id="edge51" class="edge">
<title>25&#45;&gt;5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5252.87,-2174.8461C5166.5485,-2220.4343 5074.8339,-2260.5745 4983.4621,-2286.8 4907.2367,-2308.6782 3614.3431,-2268.5897 3556.4621,-2322.8 3382.7524,-2485.4934 3604.7532,-3200.8936 3459.4621,-3389.4 3399.968,-3466.59 3221.1361,-3541.849 3029.9477,-3603.9654"/>
<polygon fill="#000000" stroke="#000000" points="3028.6927,-3600.6927 3020.2548,-3607.1 3030.8466,-3607.3531 3028.6927,-3600.6927"/>
</g>
<!-- 25&#45;&gt;10 -->
<g id="edge56" class="edge">
<title>25&#45;&gt;10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6206.0458,-2253.454C6225.8744,-2276.206 6244.8088,-2299.3717 6262.4621,-2322.8 6368.9144,-2464.0765 6448.7801,-2656.2313 6489.7352,-2767.1367"/>
<polygon fill="#000000" stroke="#000000" points="6486.4857,-2768.4417 6493.2167,-2776.6237 6493.0572,-2766.03 6486.4857,-2768.4417"/>
</g>
<!-- 25&#45;&gt;11 -->
<g id="edge49" class="edge">
<title>25&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M6206.2579,-2138.9298C6314.3546,-2195.3136 6430.8594,-2248.614 6544.4621,-2286.8 6644.2018,-2320.3261 6697.4606,-2255.6378 6778.4621,-2322.8 6921.9171,-2441.7454 6955.9949,-2677.5149 6964.0272,-2791.4596"/>
<polygon fill="#000000" stroke="#000000" points="6960.5563,-2792.0193 6964.7058,-2801.7677 6967.5412,-2791.5594 6960.5563,-2792.0193"/>
</g>
<!-- 25&#45;&gt;8 -->
<g id="edge53" class="edge">
<title>25&#45;&gt;8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5252.7183,-2144.8631C5178.3653,-2200.0936 5104.917,-2260.2273 5040.4621,-2322.8 5039.7852,-2323.4572 5039.1085,-2324.1156 5038.4322,-2324.7753"/>
<polygon fill="#000000" stroke="#000000" points="5035.8733,-2322.3829 5031.198,-2331.8904 5040.7818,-2327.3736 5035.8733,-2322.3829"/>
</g>
<!-- 25&#45;&gt;20 -->
<g id="edge48" class="edge">
<title>25&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5252.8323,-2172.7021C5166.4243,-2218.6162 5074.6911,-2259.4204 4983.4621,-2286.8 4905.7862,-2310.112 4321.9827,-2277.8782 4254.4621,-2322.8 4091.0685,-2431.5067 4029.4934,-2675.3839 4008.7945,-2791.8334"/>
<polygon fill="#000000" stroke="#000000" points="4005.2879,-2791.5712 4007.0304,-2802.0217 4012.1853,-2792.7655 4005.2879,-2791.5712"/>
</g>
<!-- 25&#45;&gt;24 -->
<g id="edge47" class="edge">
<title>25&#45;&gt;24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6206.2024,-2148.2814C6313.7652,-2203.6872 6430.066,-2254.2242 6544.4621,-2286.8 6609.7618,-2305.395 7107.5621,-2273.7061 7154.4621,-2322.8 7199.379,-2369.8181 7183.6446,-3295.0692 7176.3322,-3634.0275"/>
<polygon fill="#000000" stroke="#000000" points="7172.8309,-3634.0541 7176.113,-3644.1277 7179.8292,-3634.206 7172.8309,-3634.0541"/>
</g>
<!-- 26 -->
<g id="node31" class="node">
<title>26</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7201.1232,-2743.3 7201.1232,-2968.9 7815.801,-2968.9 7815.801,-2743.3 7201.1232,-2743.3"/>
<text text-anchor="middle" x="7508.4621" y="-2952.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="7508.4621" y="-2935.5" font-family="Times,serif" font-size="14.00" fill="#000000">UniLib</text>
<polyline fill="none" stroke="#000000" points="7201.1232,-2927.3 7815.801,-2927.3 "/>
<text text-anchor="middle" x="7508.4621" y="-2910.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="7201.1232,-2902.5 7815.801,-2902.5 "/>
<text text-anchor="start" x="7209.1232" y="-2885.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7209.1232" y="-2869.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sortTokens(tokenA: address, tokenB: address): (token0: address, token1: address)</text>
<text text-anchor="start" x="7209.1232" y="-2852.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pairFor(factory: address, tokenA: address, tokenB: address): (pair: address)</text>
<text text-anchor="start" x="7209.1232" y="-2835.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getReserves(factory: address, tokenA: address, tokenB: address): (reserveA: uint256, reserveB: uint256)</text>
<text text-anchor="start" x="7209.1232" y="-2818.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;quote(amountA: uint256, reserveA: uint256, reserveB: uint256): (amountB: uint256)</text>
<text text-anchor="start" x="7209.1232" y="-2801.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAmountOut(amountIn: uint256, reserveIn: uint256, reserveOut: uint256): (amountOut: uint256)</text>
<text text-anchor="start" x="7209.1232" y="-2785.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAmountIn(amountOut: uint256, reserveIn: uint256, reserveOut: uint256): (amountIn: uint256)</text>
<text text-anchor="start" x="7209.1232" y="-2768.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAmountsOut(factory: address, amountIn: uint256, path: address[]): (amounts: uint256[])</text>
<text text-anchor="start" x="7209.1232" y="-2751.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAmountsIn(factory: address, amountOut: uint256, path: address[]): (amounts: uint256[])</text>
</g>
<!-- 25&#45;&gt;26 -->
<g id="edge55" class="edge">
<title>25&#45;&gt;26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6206.128,-2148.5435C6313.6954,-2203.9328 6430.017,-2254.3969 6544.4621,-2286.8 6682.1619,-2325.7873 7064.8938,-2248.9201 7187.4621,-2322.8 7338.7759,-2414.0067 7427.7425,-2606.227 7472.2821,-2733.24"/>
<polygon fill="#000000" stroke="#000000" points="7469.0931,-2734.7272 7475.673,-2743.0312 7475.7077,-2732.4364 7469.0931,-2734.7272"/>
</g>
<!-- 25struct0 -->
<g id="node27" class="node">
<title>25struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5748.7906,-609.3 5748.7906,-759.7 5884.1336,-759.7 5884.1336,-609.3 5748.7906,-609.3"/>
<text text-anchor="middle" x="5816.4621" y="-743.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5816.4621" y="-726.3" font-family="Times,serif" font-size="14.00" fill="#000000">SellStrategy</text>
<polyline fill="none" stroke="#000000" points="5748.7906,-718.1 5884.1336,-718.1 "/>
<text text-anchor="start" x="5756.7906" y="-701.5" font-family="Times,serif" font-size="14.00" fill="#000000">name: string</text>
<text text-anchor="start" x="5756.7906" y="-684.7" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint256</text>
<text text-anchor="start" x="5756.7906" y="-667.9" font-family="Times,serif" font-size="14.00" fill="#000000">prices: uint256[]</text>
<text text-anchor="start" x="5756.7906" y="-651.1" font-family="Times,serif" font-size="14.00" fill="#000000">sellTokens: address[]</text>
<text text-anchor="start" x="5756.7906" y="-634.3" font-family="Times,serif" font-size="14.00" fill="#000000">isExecuted: bool[]</text>
<text text-anchor="start" x="5756.7906" y="-617.5" font-family="Times,serif" font-size="14.00" fill="#000000">isActive: bool</text>
</g>
<!-- 25struct0&#45;&gt;25 -->
<g id="edge1" class="edge">
<title>25struct0&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M5810.8208,-759.8078C5801.2628,-887.402 5781.1843,-1155.4386 5763.3663,-1393.2978"/>
<polygon fill="#000000" stroke="#000000" points="5763.3624,-1393.3512 5766.903,-1399.6333 5762.4659,-1405.3177 5758.9254,-1399.0356 5763.3624,-1393.3512"/>
</g>
<!-- 25struct1 -->
<g id="node28" class="node">
<title>25struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5902.4933,-600.9 5902.4933,-768.1 6074.4309,-768.1 6074.4309,-600.9 5902.4933,-600.9"/>
<text text-anchor="middle" x="5988.4621" y="-751.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5988.4621" y="-734.7" font-family="Times,serif" font-size="14.00" fill="#000000">BuyStrategy</text>
<polyline fill="none" stroke="#000000" points="5902.4933,-726.5 6074.4309,-726.5 "/>
<text text-anchor="start" x="5910.4933" y="-709.9" font-family="Times,serif" font-size="14.00" fill="#000000">name: string</text>
<text text-anchor="start" x="5910.4933" y="-693.1" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint256</text>
<text text-anchor="start" x="5910.4933" y="-676.3" font-family="Times,serif" font-size="14.00" fill="#000000">interBuyDelay: uint256</text>
<text text-anchor="start" x="5910.4933" y="-659.5" font-family="Times,serif" font-size="14.00" fill="#000000">buyAmount: uint256</text>
<text text-anchor="start" x="5910.4933" y="-642.7" font-family="Times,serif" font-size="14.00" fill="#000000">lastBuyTimestamp: uint256</text>
<text text-anchor="start" x="5910.4933" y="-625.9" font-family="Times,serif" font-size="14.00" fill="#000000">buyToken: address</text>
<text text-anchor="start" x="5910.4933" y="-609.1" font-family="Times,serif" font-size="14.00" fill="#000000">isActive: bool</text>
</g>
<!-- 25struct1&#45;&gt;25 -->
<g id="edge2" class="edge">
<title>25struct1&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M5982.0959,-768.1755C5971.0368,-898.1378 5944.4211,-1155.7482 5893.4621,-1369 5891.5085,-1377.1755 5889.4707,-1385.4086 5887.3579,-1393.6833"/>
<polygon fill="#000000" stroke="#000000" points="5887.33,-1393.7914 5889.6981,-1400.6025 5884.3217,-1405.4082 5881.9536,-1398.597 5887.33,-1393.7914"/>
</g>
<!-- 25struct2 -->
<g id="node29" class="node">
<title>25struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5368.9961,-609.3 5368.9961,-759.7 5533.9281,-759.7 5533.9281,-609.3 5368.9961,-609.3"/>
<text text-anchor="middle" x="5451.4621" y="-743.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5451.4621" y="-726.3" font-family="Times,serif" font-size="14.00" fill="#000000">FromChakraArg</text>
<polyline fill="none" stroke="#000000" points="5368.9961,-718.1 5533.9281,-718.1 "/>
<text text-anchor="start" x="5376.9961" y="-701.5" font-family="Times,serif" font-size="14.00" fill="#000000">_chakra: address</text>
<text text-anchor="start" x="5376.9961" y="-684.7" font-family="Times,serif" font-size="14.00" fill="#000000">_sellToken: address</text>
<text text-anchor="start" x="5376.9961" y="-667.9" font-family="Times,serif" font-size="14.00" fill="#000000">_sellStrategyId: uint256</text>
<text text-anchor="start" x="5376.9961" y="-651.1" font-family="Times,serif" font-size="14.00" fill="#000000">_sellTokenIndex: uint256</text>
<text text-anchor="start" x="5376.9961" y="-634.3" font-family="Times,serif" font-size="14.00" fill="#000000">_poolAmount: uint256</text>
<text text-anchor="start" x="5376.9961" y="-617.5" font-family="Times,serif" font-size="14.00" fill="#000000">_minQuoteToken: uint256</text>
</g>
<!-- 25struct2&#45;&gt;25 -->
<g id="edge3" class="edge">
<title>25struct2&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M5455.7072,-759.8151C5464.1791,-887.0855 5487.4312,-1152.0453 5543.4621,-1369 5545.5767,-1377.1878 5547.7911,-1385.4259 5550.0949,-1393.6991"/>
<polygon fill="#000000" stroke="#000000" points="5550.1434,-1393.8709 5555.6259,-1398.5552 5553.4105,-1405.4176 5547.9281,-1400.7333 5550.1434,-1393.8709"/>
</g>
<!-- 25struct3 -->
<g id="node30" class="node">
<title>25struct3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5552.3853,-592.5 5552.3853,-776.5 5730.5389,-776.5 5730.5389,-592.5 5552.3853,-592.5"/>
<text text-anchor="middle" x="5641.4621" y="-759.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5641.4621" y="-743.1" font-family="Times,serif" font-size="14.00" fill="#000000">FromChakraLocalVar</text>
<polyline fill="none" stroke="#000000" points="5552.3853,-734.9 5730.5389,-734.9 "/>
<text text-anchor="start" x="5560.3853" y="-718.3" font-family="Times,serif" font-size="14.00" fill="#000000">manager: address</text>
<text text-anchor="start" x="5560.3853" y="-701.5" font-family="Times,serif" font-size="14.00" fill="#000000">strategySellToken: address</text>
<text text-anchor="start" x="5560.3853" y="-684.7" font-family="Times,serif" font-size="14.00" fill="#000000">sellToken: address</text>
<text text-anchor="start" x="5560.3853" y="-667.9" font-family="Times,serif" font-size="14.00" fill="#000000">strategySellAmount: uint256</text>
<text text-anchor="start" x="5560.3853" y="-651.1" font-family="Times,serif" font-size="14.00" fill="#000000">sellAmount: uint256</text>
<text text-anchor="start" x="5560.3853" y="-634.3" font-family="Times,serif" font-size="14.00" fill="#000000">totalAmount: uint256</text>
<text text-anchor="start" x="5560.3853" y="-617.5" font-family="Times,serif" font-size="14.00" fill="#000000">relayerFee: uint256</text>
<text text-anchor="start" x="5560.3853" y="-600.7" font-family="Times,serif" font-size="14.00" fill="#000000">isRelayer: bool</text>
</g>
<!-- 25struct3&#45;&gt;25 -->
<g id="edge4" class="edge">
<title>25struct3&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M5648.4409,-776.6039C5658.5351,-909.8244 5677.8947,-1165.3269 5695.1585,-1393.1703"/>
<polygon fill="#000000" stroke="#000000" points="5695.1764,-1393.4074 5699.6183,-1399.088 5696.0831,-1405.3731 5691.6412,-1399.6925 5695.1764,-1393.4074"/>
</g>
<!-- 26&#45;&gt;12 -->
<g id="edge58" class="edge">
<title>26&#45;&gt;12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7539.9973,-2969.3C7571.175,-3081.2167 7620.456,-3258.1181 7664.4268,-3415.9573"/>
<polygon fill="#000000" stroke="#000000" points="7661.1262,-3417.1517 7667.1815,-3425.8456 7667.8694,-3415.2731 7661.1262,-3417.1517"/>
</g>
<!-- 26&#45;&gt;24 -->
<g id="edge57" class="edge">
<title>26&#45;&gt;24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7466.3733,-2969.3C7403.1748,-3139.2758 7284.2427,-3459.1497 7219.0533,-3634.48"/>
<polygon fill="#000000" stroke="#000000" points="7215.7148,-3633.4161 7215.5104,-3644.009 7222.276,-3635.8557 7215.7148,-3633.4161"/>
</g>
<!-- 27 -->
<g id="node32" class="node">
<title>27</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2387.59,-.5 2387.59,-1368.5 3151.3342,-1368.5 3151.3342,-.5 2387.59,-.5"/>
<text text-anchor="middle" x="2769.4621" y="-1351.9" font-family="Times,serif" font-size="14.00" fill="#000000">PV2SmartPool</text>
<polyline fill="none" stroke="#000000" points="2387.59,-1343.7 3151.3342,-1343.7 "/>
<text text-anchor="middle" x="2769.4621" y="-1327.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2387.59,-1318.9 3151.3342,-1318.9 "/>
<text text-anchor="start" x="2395.59" y="-1302.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2395.59" y="-1285.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;applyAddToken()</text>
<text text-anchor="start" x="2395.59" y="-1268.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_bPool: address, _name: string, _symbol: string, _initialSupply: uint256)</text>
<text text-anchor="start" x="2395.59" y="-1251.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exitPool(_amount: uint256)</text>
<text text-anchor="start" x="2395.59" y="-1235.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exitPool(_amount: uint256, _minAmountsOut: uint256[])</text>
<text text-anchor="start" x="2395.59" y="-1218.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exitswapPoolAmountIn(_token: address, _poolAmountIn: uint256, _minAmountOut: uint256): (tokenAmountOut: uint256)</text>
<text text-anchor="start" x="2395.59" y="-1201.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exitswapExternAmountOut(_token: address, _tokenAmountOut: uint256, _maxPoolAmountIn: uint256): (poolAmountIn: uint256)</text>
<text text-anchor="start" x="2395.59" y="-1184.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;joinPool(_amount: uint256)</text>
<text text-anchor="start" x="2395.59" y="-1167.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;joinPool(_amount: uint256, _maxAmountsIn: uint256[])</text>
<text text-anchor="start" x="2395.59" y="-1151.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;joinswapExternAmountIn(_token: address, _amountIn: uint256, _minPoolAmountOut: uint256): (poolAmountOut: uint256)</text>
<text text-anchor="start" x="2395.59" y="-1134.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;joinswapPoolAmountOut(_token: address, _amountOut: uint256, _maxAmountIn: uint256): (tokenAmountIn: uint256)</text>
<text text-anchor="start" x="2395.59" y="-1117.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;bind(_token: address, _balance: uint256, _denorm: uint256)</text>
<text text-anchor="start" x="2395.59" y="-1100.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;rebind(_token: address, _balance: uint256, _denorm: uint256)</text>
<text text-anchor="start" x="2395.59" y="-1083.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unbind(_token: address)</text>
<text text-anchor="start" x="2395.59" y="-1067.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setController(_controller: address)</text>
<text text-anchor="start" x="2395.59" y="-1050.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPublicSwapSetter(_newPublicSwapSetter: address)</text>
<text text-anchor="start" x="2395.59" y="-1033.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setTokenBinder(_newTokenBinder: address)</text>
<text text-anchor="start" x="2395.59" y="-1016.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPublicSwap(_public: bool)</text>
<text text-anchor="start" x="2395.59" y="-999.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setSwapFee(_swapFee: uint256)</text>
<text text-anchor="start" x="2395.59" y="-983.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setCap(_cap: uint256)</text>
<text text-anchor="start" x="2395.59" y="-966.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setJoinExitEnabled(_newValue: bool)</text>
<text text-anchor="start" x="2395.59" y="-949.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setCircuitBreaker(_newCircuitBreaker: address)</text>
<text text-anchor="start" x="2395.59" y="-932.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setAnnualFee(_newFee: uint256)</text>
<text text-anchor="start" x="2395.59" y="-915.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;chargeOutstandingAnnualFee()</text>
<text text-anchor="start" x="2395.59" y="-899.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setFeeRecipient(_newRecipient: address)</text>
<text text-anchor="start" x="2395.59" y="-882.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;tripCircuitBreaker()</text>
<text text-anchor="start" x="2395.59" y="-865.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateWeight(_token: address, _newWeight: uint256)</text>
<text text-anchor="start" x="2395.59" y="-848.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateWeightsGradually(_newWeights: uint256[], _startBlock: uint256, _endBlock: uint256)</text>
<text text-anchor="start" x="2395.59" y="-831.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pokeWeights()</text>
<text text-anchor="start" x="2395.59" y="-815.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exitPoolTakingloss(_amount: uint256, _lossTokens: address[])</text>
<text text-anchor="start" x="2395.59" y="-798.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;commitAddToken(_token: address, _balance: uint256, _denormalizedWeight: uint256)</text>
<text text-anchor="start" x="2395.59" y="-781.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removeToken(_token: address)</text>
<text text-anchor="start" x="2395.59" y="-764.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcTokensForAmount(_amount: uint256): (tokens: address[], amounts: uint256[])</text>
<text text-anchor="start" x="2395.59" y="-747.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcPoolOutGivenSingleIn(_token: address, _amount: uint256): uint256</text>
<text text-anchor="start" x="2395.59" y="-731.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcSingleInGivenPoolOut(_token: address, _amount: uint256): uint256</text>
<text text-anchor="start" x="2395.59" y="-714.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcSingleOutGivenPoolIn(_token: address, _amount: uint256): uint256</text>
<text text-anchor="start" x="2395.59" y="-697.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcPoolInGivenSingleOut(_token: address, _amount: uint256): uint256</text>
<text text-anchor="start" x="2395.59" y="-680.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getTokens(): address[]</text>
<text text-anchor="start" x="2395.59" y="-663.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getController(): address</text>
<text text-anchor="start" x="2395.59" y="-647.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPublicSwapSetter(): address</text>
<text text-anchor="start" x="2395.59" y="-630.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getTokenBinder(): address</text>
<text text-anchor="start" x="2395.59" y="-613.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getCircuitBreaker(): address</text>
<text text-anchor="start" x="2395.59" y="-596.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isPublicSwap(): bool</text>
<text text-anchor="start" x="2395.59" y="-579.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getCap(): uint256</text>
<text text-anchor="start" x="2395.59" y="-563.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAnnualFee(): uint256</text>
<text text-anchor="start" x="2395.59" y="-546.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getFeeRecipient(): address</text>
<text text-anchor="start" x="2395.59" y="-529.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getDenormalizedWeight(_token: address): uint256</text>
<text text-anchor="start" x="2395.59" y="-512.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getDenormalizedWeights(): (weights: uint256[])</text>
<text text-anchor="start" x="2395.59" y="-495.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBPool(): address</text>
<text text-anchor="start" x="2395.59" y="-479.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSwapFee(): uint256</text>
<text text-anchor="start" x="2395.59" y="-462.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getNewWeights(): (weights: uint256[])</text>
<text text-anchor="start" x="2395.59" y="-445.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getStartWeights(): (weights: uint256[])</text>
<text text-anchor="start" x="2395.59" y="-428.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getStartBlock(): uint256</text>
<text text-anchor="start" x="2395.59" y="-411.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getEndBlock(): uint256</text>
<text text-anchor="start" x="2395.59" y="-395.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getNewToken(): P2Storage.NewToken</text>
<text text-anchor="start" x="2395.59" y="-378.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getJoinExitEnabled(): bool</text>
<text text-anchor="start" x="2395.59" y="-361.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;finalizeSmartPool()</text>
<text text-anchor="start" x="2395.59" y="-344.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createPool(initialSupply: uint256)</text>
<text text-anchor="start" x="2395.59" y="-327.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2395.59" y="-311.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CircuitBreakerChanged(_oldCircuitBreaker: address, _newCircuitBreaker: address)</text>
<text text-anchor="start" x="2395.59" y="-294.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TokensApproved()</text>
<text text-anchor="start" x="2395.59" y="-277.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PublicSwapSetterChanged(previousSetter: address, newSetter: address)</text>
<text text-anchor="start" x="2395.59" y="-260.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; TokenBinderChanged(previousTokenBinder: address, newTokenBinder: address)</text>
<text text-anchor="start" x="2395.59" y="-243.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PublicSwapSet(setter: address, value: bool)</text>
<text text-anchor="start" x="2395.59" y="-227.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SwapFeeSet(setter: address, newFee: uint256)</text>
<text text-anchor="start" x="2395.59" y="-210.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CapChanged(setter: address, oldCap: uint256, newCap: uint256)</text>
<text text-anchor="start" x="2395.59" y="-193.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CircuitBreakerTripped()</text>
<text text-anchor="start" x="2395.59" y="-176.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; JoinExitEnabledChanged(setter: address, oldValue: bool, newValue: bool)</text>
<text text-anchor="start" x="2395.59" y="-159.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ControllerChanged(previousController: address, newController: address)</text>
<text text-anchor="start" x="2395.59" y="-143.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; ready()</text>
<text text-anchor="start" x="2395.59" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyController()</text>
<text text-anchor="start" x="2395.59" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyPublicSwapSetter()</text>
<text text-anchor="start" x="2395.59" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyTokenBinder()</text>
<text text-anchor="start" x="2395.59" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyPublicSwap()</text>
<text text-anchor="start" x="2395.59" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyCircuitBreaker()</text>
<text text-anchor="start" x="2395.59" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyJoinExitEnabled()</text>
<text text-anchor="start" x="2395.59" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; withinCap()</text>
<text text-anchor="start" x="2395.59" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;approveTokens()</text>
</g>
<!-- 27&#45;&gt;1 -->
<g id="edge60" class="edge">
<title>27&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M2739.0496,-1368.6241C2736.7117,-1736.2662 2761.1731,-2142.9739 2869.4621,-2286.8 2898.1262,-2324.8708 2936.031,-2289.8529 2970.4621,-2322.8 3053.7221,-2402.4713 3106.0003,-2518.5397 3138.3158,-2622.0656"/>
<polygon fill="none" stroke="#000000" points="3128.2764,-2625.1426 3146.9102,-2650.892 3148.401,-2619.1425 3128.2764,-2625.1426"/>
</g>
<!-- 27&#45;&gt;2 -->
<g id="edge61" class="edge">
<title>27&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M2387.3066,-742.335C1745.3866,-847.1664 491.0724,-1087.4591 189.4621,-1405 95.2929,-1504.1431 83.4616,-1672.6641 85.5016,-1770.1334"/>
<polygon fill="none" stroke="#000000" points="75.0144,-1770.6741 86.6263,-1800.2615 95.9997,-1769.8906 75.0144,-1770.6741"/>
</g>
<!-- 27&#45;&gt;6 -->
<g id="edge65" class="edge">
<title>27&#45;&gt;6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3151.4162,-755.9801C3734.275,-872.7611 4805.3276,-1120.2035 5062.4621,-1405 5330.5735,-1701.9544 4944.2752,-2021.1822 5243.4621,-2286.8 5315.0043,-2350.3151 5607.7045,-2252.3806 5672.4621,-2322.8 5712.572,-2366.4167 5709.9126,-3343.4796 5672.4621,-3389.4 5476.1498,-3630.1106 4533.2583,-3717.6798 4100.0229,-3745.5757"/>
<polygon fill="#000000" stroke="#000000" points="4099.6408,-3742.0929 4089.8844,-3746.2236 4100.0872,-3749.0787 4099.6408,-3742.0929"/>
</g>
<!-- 27&#45;&gt;5 -->
<g id="edge63" class="edge">
<title>27&#45;&gt;5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2387.543,-1151.7685C2338.3415,-1232.2346 2294.9198,-1318.073 2265.4621,-1405 2202.5116,-1590.7609 2276.625,-2096.924 2227.4621,-2286.8 2222.9782,-2304.1175 2213.572,-2305.39 2209.4621,-2322.8 2182.2338,-2438.1408 2175.9978,-3275.7117 2209.4621,-3389.4 2225.9845,-3445.5315 2254.0272,-3501.1803 2285.1598,-3551.553"/>
<polygon fill="#000000" stroke="#000000" points="2282.3231,-3553.6181 2290.5924,-3560.2415 2288.2584,-3549.9069 2282.3231,-3553.6181"/>
</g>
<!-- 27&#45;&gt;8 -->
<g id="edge59" class="edge">
<title>27&#45;&gt;8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3151.5107,-753.3831C3725.3221,-865.4906 4765.8371,-1105.3197 4983.4621,-1405 5213.7486,-1722.1158 5086.7088,-1908.7333 4983.4621,-2286.8 4982.7942,-2289.2456 4982.1128,-2291.6914 4981.4183,-2294.1373"/>
<polygon fill="none" stroke="#000000" points="4971.3509,-2291.1534 4972.6508,-2322.9113 4991.4391,-2297.2743 4971.3509,-2291.1534"/>
</g>
<!-- 27&#45;&gt;14 -->
<g id="edge69" class="edge">
<title>27&#45;&gt;14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3151.4756,-1356.7279C3245.1379,-1521.5452 3333.0658,-1676.2718 3384.0489,-1765.9865"/>
<polygon fill="#000000" stroke="#000000" points="3381.0343,-1767.7657 3389.018,-1774.7307 3387.1202,-1764.3072 3381.0343,-1767.7657"/>
</g>
<!-- 27&#45;&gt;16 -->
<g id="edge67" class="edge">
<title>27&#45;&gt;16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2387.549,-775.0288C2067.7931,-872.7387 1629.8752,-1062.5813 1412.4621,-1405 1359.8821,-1487.8119 1389.2005,-2190.7122 1369.4621,-2286.8 1337.4933,-2442.4266 1269.7408,-2612.0254 1219.3871,-2725.2657"/>
<polygon fill="#000000" stroke="#000000" points="1216.0644,-2724.1228 1215.1829,-2734.6809 1222.4561,-2726.977 1216.0644,-2724.1228"/>
</g>
<!-- 27&#45;&gt;17 -->
<g id="edge66" class="edge">
<title>27&#45;&gt;17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2387.2833,-1160.2369C2258.132,-1321.0045 2120.0616,-1492.8749 2014.4622,-1624.3252"/>
<polygon fill="#000000" stroke="#000000" points="2011.7247,-1622.1443 2008.1904,-1632.1323 2017.1819,-1626.5283 2011.7247,-1622.1443"/>
</g>
<!-- 27&#45;&gt;18 -->
<g id="edge70" class="edge">
<title>27&#45;&gt;18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2387.4382,-862.0961C2102.1004,-999.4252 1705.8793,-1200.1367 1374.4621,-1405 1245.1791,-1484.9154 1107.8261,-1583.9441 996.8209,-1667.8922"/>
<polygon fill="#000000" stroke="#000000" points="994.3959,-1665.3382 988.5372,-1674.1657 998.6221,-1670.9185 994.3959,-1665.3382"/>
</g>
<!-- 27&#45;&gt;19 -->
<g id="edge64" class="edge">
<title>27&#45;&gt;19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2387.4161,-776.7697C2073.1122,-875.0434 1647.6755,-1064.7428 1445.4621,-1405 1378.1536,-1518.2575 1471.4714,-3308.1418 1486.4621,-3389.4 1504.5489,-3487.4406 1543.4427,-3594.8936 1573.0742,-3668.1796"/>
<polygon fill="#000000" stroke="#000000" points="1569.9947,-3669.8977 1577.0067,-3677.8401 1576.4781,-3667.2585 1569.9947,-3669.8977"/>
</g>
<!-- 27&#45;&gt;20 -->
<g id="edge62" class="edge">
<title>27&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3151.3436,-800.5712C3432.8101,-908.2655 3796.2808,-1098.9108 3973.4621,-1405 4008.5914,-1465.6876 4002.2832,-2518.3392 4000.0424,-2791.6787"/>
<polygon fill="#000000" stroke="#000000" points="3996.5413,-2791.8039 3999.958,-2801.8327 4003.5411,-2791.8621 3996.5413,-2791.8039"/>
</g>
<!-- 27&#45;&gt;22 -->
<g id="edge68" class="edge">
<title>27&#45;&gt;22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2742.3692,-1368.6271C2721.8459,-1886.8633 2695.6949,-2547.2085 2686.6833,-2774.762"/>
<polygon fill="#000000" stroke="#000000" points="2683.1785,-2774.8145 2686.28,-2784.9452 2690.173,-2775.0916 2683.1785,-2774.8145"/>
</g>
<!-- 28 -->
<g id="node33" class="node">
<title>28</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6553.8744,-1783.5 6553.8744,-1908.3 6723.0498,-1908.3 6723.0498,-1783.5 6553.8744,-1783.5"/>
<text text-anchor="middle" x="6638.4621" y="-1891.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="6638.4621" y="-1874.9" font-family="Times,serif" font-size="14.00" fill="#000000">OwnableStorage</text>
<polyline fill="none" stroke="#000000" points="6553.8744,-1866.7 6723.0498,-1866.7 "/>
<text text-anchor="start" x="6561.8744" y="-1850.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6561.8744" y="-1833.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;oSlot: bytes32</text>
<polyline fill="none" stroke="#000000" points="6553.8744,-1825.1 6723.0498,-1825.1 "/>
<text text-anchor="start" x="6561.8744" y="-1808.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6561.8744" y="-1791.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;load(): (s: StorageStruct)</text>
</g>
<!-- 28struct0 -->
<g id="node34" class="node">
<title>28struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6588.2864,-651.3 6588.2864,-717.7 6688.6378,-717.7 6688.6378,-651.3 6588.2864,-651.3"/>
<text text-anchor="middle" x="6638.4621" y="-701.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="6638.4621" y="-684.3" font-family="Times,serif" font-size="14.00" fill="#000000">StorageStruct</text>
<polyline fill="none" stroke="#000000" points="6588.2864,-676.1 6688.6378,-676.1 "/>
<text text-anchor="start" x="6596.2864" y="-659.5" font-family="Times,serif" font-size="14.00" fill="#000000">owner: address</text>
</g>
<!-- 28struct0&#45;&gt;28 -->
<g id="edge5" class="edge">
<title>28struct0&#45;&gt;28</title>
<path fill="none" stroke="#000000" d="M6638.4621,-718.0059C6638.4621,-875.6819 6638.4621,-1545.5545 6638.4621,-1771.2913"/>
<polygon fill="#000000" stroke="#000000" points="6638.4622,-1771.2942 6642.4621,-1777.2942 6638.4621,-1783.2942 6634.4621,-1777.2941 6638.4622,-1771.2942"/>
</g>
<!-- 29 -->
<g id="node35" class="node">
<title>29</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2218.8744,-2793.7 2218.8744,-2918.5 2388.0498,-2918.5 2388.0498,-2793.7 2218.8744,-2793.7"/>
<text text-anchor="middle" x="2303.4621" y="-2901.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="2303.4621" y="-2885.1" font-family="Times,serif" font-size="14.00" fill="#000000">PBasicSmartPoolStorage</text>
<polyline fill="none" stroke="#000000" points="2218.8744,-2876.9 2388.0498,-2876.9 "/>
<text text-anchor="start" x="2226.8744" y="-2860.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2226.8744" y="-2843.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;pbsSlot: bytes32</text>
<polyline fill="none" stroke="#000000" points="2218.8744,-2835.3 2388.0498,-2835.3 "/>
<text text-anchor="start" x="2226.8744" y="-2818.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2226.8744" y="-2801.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;load(): (s: StorageStruct)</text>
</g>
<!-- 29&#45;&gt;5 -->
<g id="edge71" class="edge">
<title>29&#45;&gt;5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2313.404,-2918.7412C2333.8131,-3047.3325 2381.234,-3346.1176 2413.584,-3549.9451"/>
<polygon fill="#000000" stroke="#000000" points="2410.1368,-3550.5542 2415.1611,-3559.8819 2417.0503,-3549.4569 2410.1368,-3550.5542"/>
</g>
<!-- 29struct0 -->
<g id="node36" class="node">
<title>29struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2274.4007,-1787.5 2274.4007,-1904.3 2438.5235,-1904.3 2438.5235,-1787.5 2274.4007,-1787.5"/>
<text text-anchor="middle" x="2356.4621" y="-1887.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2356.4621" y="-1870.9" font-family="Times,serif" font-size="14.00" fill="#000000">StorageStruct</text>
<polyline fill="none" stroke="#000000" points="2274.4007,-1862.7 2438.5235,-1862.7 "/>
<text text-anchor="start" x="2282.4007" y="-1846.1" font-family="Times,serif" font-size="14.00" fill="#000000">bPool: IBPool</text>
<text text-anchor="start" x="2282.4007" y="-1829.3" font-family="Times,serif" font-size="14.00" fill="#000000">controller: address</text>
<text text-anchor="start" x="2282.4007" y="-1812.5" font-family="Times,serif" font-size="14.00" fill="#000000">publicSwapSetter: address</text>
<text text-anchor="start" x="2282.4007" y="-1795.7" font-family="Times,serif" font-size="14.00" fill="#000000">tokenBinder: address</text>
</g>
<!-- 29struct0&#45;&gt;29 -->
<g id="edge6" class="edge">
<title>29struct0&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M2353.3835,-1904.5791C2344.2823,-2078.0519 2317.5086,-2588.3687 2307.3929,-2781.1773"/>
<polygon fill="#000000" stroke="#000000" points="2307.3799,-2781.4277 2311.06,-2787.629 2306.7511,-2793.4112 2303.071,-2787.2098 2307.3799,-2781.4277"/>
</g>
<!-- 30 -->
<g id="node37" class="node">
<title>30</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6799.8744,-1783.5 6799.8744,-1908.3 6969.0498,-1908.3 6969.0498,-1783.5 6799.8744,-1783.5"/>
<text text-anchor="middle" x="6884.4621" y="-1891.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="6884.4621" y="-1874.9" font-family="Times,serif" font-size="14.00" fill="#000000">PCTokenStorage</text>
<polyline fill="none" stroke="#000000" points="6799.8744,-1866.7 6969.0498,-1866.7 "/>
<text text-anchor="start" x="6807.8744" y="-1850.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6807.8744" y="-1833.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ptSlot: bytes32</text>
<polyline fill="none" stroke="#000000" points="6799.8744,-1825.1 6969.0498,-1825.1 "/>
<text text-anchor="start" x="6807.8744" y="-1808.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="6807.8744" y="-1791.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;load(): (s: StorageStruct)</text>
</g>
<!-- 30struct0 -->
<g id="node38" class="node">
<title>30struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6706.9179,-617.7 6706.9179,-751.3 7062.0063,-751.3 7062.0063,-617.7 6706.9179,-617.7"/>
<text text-anchor="middle" x="6884.4621" y="-734.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="6884.4621" y="-717.9" font-family="Times,serif" font-size="14.00" fill="#000000">StorageStruct</text>
<polyline fill="none" stroke="#000000" points="6706.9179,-709.7 7062.0063,-709.7 "/>
<text text-anchor="start" x="6714.9179" y="-693.1" font-family="Times,serif" font-size="14.00" fill="#000000">name: string</text>
<text text-anchor="start" x="6714.9179" y="-676.3" font-family="Times,serif" font-size="14.00" fill="#000000">symbol: string</text>
<text text-anchor="start" x="6714.9179" y="-659.5" font-family="Times,serif" font-size="14.00" fill="#000000">totalSupply: uint256</text>
<text text-anchor="start" x="6714.9179" y="-642.7" font-family="Times,serif" font-size="14.00" fill="#000000">balance: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="6714.9179" y="-625.9" font-family="Times,serif" font-size="14.00" fill="#000000">allowance: mapping(address=&gt;mapping(address=&gt;uint256))</text>
</g>
<!-- 30struct0&#45;&gt;30 -->
<g id="edge7" class="edge">
<title>30struct0&#45;&gt;30</title>
<path fill="none" stroke="#000000" d="M6884.4621,-751.5369C6884.4621,-954.0125 6884.4621,-1558.4079 6884.4621,-1770.9596"/>
<polygon fill="#000000" stroke="#000000" points="6884.4622,-1771.1892 6888.4621,-1777.1892 6884.4621,-1783.1892 6880.4621,-1777.1892 6884.4622,-1771.1892"/>
</g>
<!-- 31 -->
<g id="node39" class="node">
<title>31</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7041.8744,-1783.5 7041.8744,-1908.3 7211.0498,-1908.3 7211.0498,-1783.5 7041.8744,-1783.5"/>
<text text-anchor="middle" x="7126.4621" y="-1891.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="7126.4621" y="-1874.9" font-family="Times,serif" font-size="14.00" fill="#000000">PCappedSmartPoolStorage</text>
<polyline fill="none" stroke="#000000" points="7041.8744,-1866.7 7211.0498,-1866.7 "/>
<text text-anchor="start" x="7049.8744" y="-1850.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7049.8744" y="-1833.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;pcsSlot: bytes32</text>
<polyline fill="none" stroke="#000000" points="7041.8744,-1825.1 7211.0498,-1825.1 "/>
<text text-anchor="start" x="7049.8744" y="-1808.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7049.8744" y="-1791.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;load(): (s: StorageStruct)</text>
</g>
<!-- 31struct0 -->
<g id="node40" class="node">
<title>31struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7080.3611,-651.3 7080.3611,-717.7 7172.5631,-717.7 7172.5631,-651.3 7080.3611,-651.3"/>
<text text-anchor="middle" x="7126.4621" y="-701.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="7126.4621" y="-684.3" font-family="Times,serif" font-size="14.00" fill="#000000">StorageStruct</text>
<polyline fill="none" stroke="#000000" points="7080.3611,-676.1 7172.5631,-676.1 "/>
<text text-anchor="start" x="7088.3611" y="-659.5" font-family="Times,serif" font-size="14.00" fill="#000000">cap: uint256</text>
</g>
<!-- 31struct0&#45;&gt;31 -->
<g id="edge8" class="edge">
<title>31struct0&#45;&gt;31</title>
<path fill="none" stroke="#000000" d="M7126.4621,-718.0059C7126.4621,-875.6819 7126.4621,-1545.5545 7126.4621,-1771.2913"/>
<polygon fill="#000000" stroke="#000000" points="7126.4622,-1771.2942 7130.4621,-1777.2942 7126.4621,-1783.2942 7122.4621,-1777.2941 7126.4622,-1771.2942"/>
</g>
<!-- 32 -->
<g id="node41" class="node">
<title>32</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7301.8744,-1783.5 7301.8744,-1908.3 7471.0498,-1908.3 7471.0498,-1783.5 7301.8744,-1783.5"/>
<text text-anchor="middle" x="7386.4621" y="-1891.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="7386.4621" y="-1874.9" font-family="Times,serif" font-size="14.00" fill="#000000">PV2SmartPoolStorage</text>
<polyline fill="none" stroke="#000000" points="7301.8744,-1866.7 7471.0498,-1866.7 "/>
<text text-anchor="start" x="7309.8744" y="-1850.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7309.8744" y="-1833.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;pasSlot: bytes32</text>
<polyline fill="none" stroke="#000000" points="7301.8744,-1825.1 7471.0498,-1825.1 "/>
<text text-anchor="start" x="7309.8744" y="-1808.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7309.8744" y="-1791.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;load(): (s: StorageStruct)</text>
</g>
<!-- 32struct0 -->
<g id="node42" class="node">
<title>32struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7190.2254,-575.7 7190.2254,-793.3 7384.6988,-793.3 7384.6988,-575.7 7190.2254,-575.7"/>
<text text-anchor="middle" x="7287.4621" y="-776.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="7287.4621" y="-759.9" font-family="Times,serif" font-size="14.00" fill="#000000">StorageStruct</text>
<polyline fill="none" stroke="#000000" points="7190.2254,-751.7 7384.6988,-751.7 "/>
<text text-anchor="start" x="7198.2254" y="-735.1" font-family="Times,serif" font-size="14.00" fill="#000000">startBlock: uint256</text>
<text text-anchor="start" x="7198.2254" y="-718.3" font-family="Times,serif" font-size="14.00" fill="#000000">endBlock: uint256</text>
<text text-anchor="start" x="7198.2254" y="-701.5" font-family="Times,serif" font-size="14.00" fill="#000000">startWeights: uint256[]</text>
<text text-anchor="start" x="7198.2254" y="-684.7" font-family="Times,serif" font-size="14.00" fill="#000000">newWeights: uint256[]</text>
<text text-anchor="start" x="7198.2254" y="-667.9" font-family="Times,serif" font-size="14.00" fill="#000000">newToken: NewToken</text>
<text text-anchor="start" x="7198.2254" y="-651.1" font-family="Times,serif" font-size="14.00" fill="#000000">joinExitEnabled: bool</text>
<text text-anchor="start" x="7198.2254" y="-634.3" font-family="Times,serif" font-size="14.00" fill="#000000">annualFee: uint256</text>
<text text-anchor="start" x="7198.2254" y="-617.5" font-family="Times,serif" font-size="14.00" fill="#000000">lastAnnualFeeClaimed: uint256</text>
<text text-anchor="start" x="7198.2254" y="-600.7" font-family="Times,serif" font-size="14.00" fill="#000000">feeRecipient: address</text>
<text text-anchor="start" x="7198.2254" y="-583.9" font-family="Times,serif" font-size="14.00" fill="#000000">circuitBreaker: address</text>
</g>
<!-- 32struct0&#45;&gt;32 -->
<g id="edge9" class="edge">
<title>32struct0&#45;&gt;32</title>
<path fill="none" stroke="#000000" d="M7296.7535,-793.5006C7316.683,-1027.2997 7363.1033,-1571.87 7380.0892,-1771.1378"/>
<polygon fill="#000000" stroke="#000000" points="7380.0976,-1771.2374 7384.5928,-1776.8759 7381.1169,-1783.194 7376.6217,-1777.5555 7380.0976,-1771.2374"/>
</g>
<!-- 32struct1 -->
<g id="node43" class="node">
<title>32struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7402.2668,-617.7 7402.2668,-751.3 7544.6574,-751.3 7544.6574,-617.7 7402.2668,-617.7"/>
<text text-anchor="middle" x="7473.4621" y="-734.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="7473.4621" y="-717.9" font-family="Times,serif" font-size="14.00" fill="#000000">NewToken</text>
<polyline fill="none" stroke="#000000" points="7402.2668,-709.7 7544.6574,-709.7 "/>
<text text-anchor="start" x="7410.2668" y="-693.1" font-family="Times,serif" font-size="14.00" fill="#000000">addr: address</text>
<text text-anchor="start" x="7410.2668" y="-676.3" font-family="Times,serif" font-size="14.00" fill="#000000">isCommitted: bool</text>
<text text-anchor="start" x="7410.2668" y="-659.5" font-family="Times,serif" font-size="14.00" fill="#000000">balance: uint256</text>
<text text-anchor="start" x="7410.2668" y="-642.7" font-family="Times,serif" font-size="14.00" fill="#000000">denorm: uint256</text>
<text text-anchor="start" x="7410.2668" y="-625.9" font-family="Times,serif" font-size="14.00" fill="#000000">commitBlock: uint256</text>
</g>
<!-- 32struct1&#45;&gt;32 -->
<g id="edge10" class="edge">
<title>32struct1&#45;&gt;32</title>
<path fill="none" stroke="#000000" d="M7468.4404,-751.5369C7453.273,-954.0125 7407.998,-1558.4079 7392.0759,-1770.9596"/>
<polygon fill="#000000" stroke="#000000" points="7392.0562,-1771.2227 7395.5968,-1777.5048 7391.1597,-1783.1892 7387.6192,-1776.9071 7392.0562,-1771.2227"/>
</g>
<!-- 33 -->
<g id="node44" class="node">
<title>33</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7560.8744,-1783.5 7560.8744,-1908.3 7730.0498,-1908.3 7730.0498,-1783.5 7560.8744,-1783.5"/>
<text text-anchor="middle" x="7645.4621" y="-1891.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="7645.4621" y="-1874.9" font-family="Times,serif" font-size="14.00" fill="#000000">ReentryProtectionStorage</text>
<polyline fill="none" stroke="#000000" points="7560.8744,-1866.7 7730.0498,-1866.7 "/>
<text text-anchor="start" x="7568.8744" y="-1850.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7568.8744" y="-1833.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;rpSlot: bytes32</text>
<polyline fill="none" stroke="#000000" points="7560.8744,-1825.1 7730.0498,-1825.1 "/>
<text text-anchor="start" x="7568.8744" y="-1808.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="7568.8744" y="-1791.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;load(): (s: StorageStruct)</text>
</g>
<!-- 33struct0 -->
<g id="node45" class="node">
<title>33struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7577.7724,-651.3 7577.7724,-717.7 7713.1518,-717.7 7713.1518,-651.3 7577.7724,-651.3"/>
<text text-anchor="middle" x="7645.4621" y="-701.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="7645.4621" y="-684.3" font-family="Times,serif" font-size="14.00" fill="#000000">StorageStruct</text>
<polyline fill="none" stroke="#000000" points="7577.7724,-676.1 7713.1518,-676.1 "/>
<text text-anchor="start" x="7585.7724" y="-659.5" font-family="Times,serif" font-size="14.00" fill="#000000">lockCounter: uint256</text>
</g>
<!-- 33struct0&#45;&gt;33 -->
<g id="edge11" class="edge">
<title>33struct0&#45;&gt;33</title>
<path fill="none" stroke="#000000" d="M7645.4621,-718.0059C7645.4621,-875.6819 7645.4621,-1545.5545 7645.4621,-1771.2913"/>
<polygon fill="#000000" stroke="#000000" points="7645.4622,-1771.2942 7649.4621,-1777.2942 7645.4621,-1783.2942 7641.4621,-1777.2941 7645.4622,-1771.2942"/>
</g>
<!-- 34 -->
<g id="node46" class="node">
<title>34</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3706.7548,-1791.9 3706.7548,-1899.9 3964.1694,-1899.9 3964.1694,-1791.9 3706.7548,-1791.9"/>
<text text-anchor="middle" x="3835.4621" y="-1883.3" font-family="Times,serif" font-size="14.00" fill="#000000">TestLibSafeApprove</text>
<polyline fill="none" stroke="#000000" points="3706.7548,-1875.1 3964.1694,-1875.1 "/>
<text text-anchor="middle" x="3835.4621" y="-1858.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3706.7548,-1850.3 3964.1694,-1850.3 "/>
<text text-anchor="start" x="3714.7548" y="-1833.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3714.7548" y="-1816.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doubleApprovalUnsafe(_token: address)</text>
<text text-anchor="start" x="3714.7548" y="-1800.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;doubleApprovalSafe(_token: address)</text>
</g>
<!-- 34&#45;&gt;6 -->
<g id="edge73" class="edge">
<title>34&#45;&gt;6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3827.1388,-1900.2122C3797.9303,-2099.7201 3705.9062,-2810.5951 3782.4621,-3389.4 3793.0388,-3469.3653 3816.0218,-3556.6311 3837.1828,-3626.074"/>
<polygon fill="#000000" stroke="#000000" points="3833.8734,-3627.2201 3840.1552,-3635.7518 3840.5649,-3625.1649 3833.8734,-3627.2201"/>
</g>
<!-- 34&#45;&gt;20 -->
<g id="edge72" class="edge">
<title>34&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3844.2795,-1900.2127C3872.2571,-2072.5483 3958.9575,-2606.6015 3989.0484,-2791.9541"/>
<polygon fill="#000000" stroke="#000000" points="3985.5938,-2792.5165 3990.6511,-2801.8264 3992.5033,-2791.3947 3985.5938,-2792.5165"/>
</g>
<!-- 35 -->
<g id="node47" class="node">
<title>35</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2878.7636,-1775.1 2878.7636,-1916.7 3152.1606,-1916.7 3152.1606,-1775.1 2878.7636,-1775.1"/>
<text text-anchor="middle" x="3015.4621" y="-1900.1" font-family="Times,serif" font-size="14.00" fill="#000000">TestPCToken</text>
<polyline fill="none" stroke="#000000" points="2878.7636,-1891.9 3152.1606,-1891.9 "/>
<text text-anchor="middle" x="3015.4621" y="-1875.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2878.7636,-1867.1 3152.1606,-1867.1 "/>
<text text-anchor="start" x="2886.7636" y="-1850.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2886.7636" y="-1833.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mint(_to: address, _amount: uint256)</text>
<text text-anchor="start" x="2886.7636" y="-1816.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burn(_from: address, _amount: uint256)</text>
<text text-anchor="start" x="2886.7636" y="-1800.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2886.7636" y="-1783.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_name: string, _symbol: string)</text>
</g>
<!-- 35&#45;&gt;1 -->
<g id="edge74" class="edge">
<title>35&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M3027.5568,-1916.9353C3052.0757,-2060.9413 3108.6006,-2392.9261 3147.4261,-2620.9586"/>
<polygon fill="none" stroke="#000000" points="3137.0982,-2622.8574 3152.4848,-2650.6693 3157.8003,-2619.3325 3137.0982,-2622.8574"/>
</g>
<!-- 36 -->
<g id="node48" class="node">
<title>36</title>
<polygon fill="#f2f2f2" stroke="#000000" points="19.4803,-622.1 19.4803,-746.9 161.4439,-746.9 161.4439,-622.1 19.4803,-622.1"/>
<text text-anchor="middle" x="90.4621" y="-730.3" font-family="Times,serif" font-size="14.00" fill="#000000">TestReentryProtection</text>
<polyline fill="none" stroke="#000000" points="19.4803,-722.1 161.4439,-722.1 "/>
<text text-anchor="middle" x="90.4621" y="-705.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="19.4803,-697.3 161.4439,-697.3 "/>
<text text-anchor="start" x="27.4803" y="-680.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="27.4803" y="-663.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;test()</text>
<text text-anchor="start" x="27.4803" y="-647.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="27.4803" y="-630.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;reenter()</text>
</g>
<!-- 36&#45;&gt;2 -->
<g id="edge75" class="edge">
<title>36&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M90.4621,-746.9419C90.4621,-944.3651 90.4621,-1554.6854 90.4621,-1769.8587"/>
<polygon fill="none" stroke="#000000" points="79.9622,-1770.042 90.4621,-1800.042 100.9622,-1770.0421 79.9622,-1770.042"/>
</g>
</g>
</svg>
