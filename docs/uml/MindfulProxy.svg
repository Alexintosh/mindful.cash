<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="961pt" height="1111pt"
 viewBox="0.00 0.00 961.10 1110.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1106.8)">
<title>UmlClassDiagram</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1106.8 957.0998,-1106.8 957.0998,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="0,-221.5 0,-1102.3 953.0998,-1102.3 953.0998,-221.5 0,-221.5"/>
<text text-anchor="middle" x="476.5499" y="-1085.7" font-family="Times,serif" font-size="14.00" fill="#000000">MindfulProxy</text>
<polyline fill="none" stroke="#000000" points="0,-1077.5 953.0998,-1077.5 "/>
<text text-anchor="start" x="8" y="-1060.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8" y="-1044.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;UNISWAP_FACTORY: IUniswapV2Factory</text>
<text text-anchor="start" x="8" y="-1027.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;balancerFactory: IBFactory</text>
<text text-anchor="start" x="8" y="-1010.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;smartPoolImplementation: address</text>
<text text-anchor="start" x="8" y="-993.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;isPaused: bool</text>
<text text-anchor="start" x="8" y="-976.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;chakraManager: mapping(address=&gt;address)</text>
<text text-anchor="start" x="8" y="-960.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;isChakra: mapping(address=&gt;bool)</text>
<text text-anchor="start" x="8" y="-943.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;sellStrategyChakra: mapping(uint256=&gt;address)</text>
<text text-anchor="start" x="8" y="-926.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;buyStrategyChakra: mapping(uint256=&gt;address)</text>
<text text-anchor="start" x="8" y="-909.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;chakras: address[]</text>
<text text-anchor="start" x="8" y="-892.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;sellStrategies: SellStrategy[]</text>
<text text-anchor="start" x="8" y="-876.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;buyStrategies: BuyStrategy[]</text>
<polyline fill="none" stroke="#000000" points="0,-867.9 953.0998,-867.9 "/>
<text text-anchor="start" x="8" y="-851.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="8" y="-834.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;token0Or1(tokenA: address, tokenB: address): uint256</text>
<text text-anchor="start" x="8" y="-817.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_toChakra(_chakra: address, _baseToken: address, _poolAmount: uint256)</text>
<text text-anchor="start" x="8" y="-800.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isRelayerBuying(_chakra: address, _baseToken: address, _buyStrategyId: uint256): (bool, payable: address, address, uint256)</text>
<text text-anchor="start" x="8" y="-784.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isRelayerSelling(_chakra: address, _sellToken: address, _sellStrategyId: uint256, _tokenIndex: uint256): (bool, payable: address, address, uint256)</text>
<text text-anchor="start" x="8" y="-767.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8" y="-750.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; toChakra(_chakra: address, _baseToken: address, _poolAmount: uint256, _baseAmount: uint256, _buyStrategyId: uint256)</text>
<text text-anchor="start" x="8" y="-733.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setImplementation(_implementation: address)</text>
<text text-anchor="start" x="8" y="-716.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addBuyStrategy(_chakra: address, _buyToken: address, _name: string, _interBuyDelay: uint256, _buyAmount: uint256)</text>
<text text-anchor="start" x="8" y="-700.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;disableSellStrategy(_chakra: address, _sellStrategyId: uint256)</text>
<text text-anchor="start" x="8" y="-683.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;disableBuyStrategy(_chakra: address, _buyStrategyId: uint256)</text>
<text text-anchor="start" x="8" y="-666.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;enableSellStrategy(_chakra: address, _sellStrategyId: uint256)</text>
<text text-anchor="start" x="8" y="-649.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;enableBuyStrategy(_chakra: address, _buyStrategyId: uint256)</text>
<text text-anchor="start" x="8" y="-632.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addSellStrategy(_chakra: address, _name: string, _sellTokens: address[], _prices: uint256[])</text>
<text text-anchor="start" x="8" y="-616.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;fromChakra(_arg: FromChakraArg)</text>
<text text-anchor="start" x="8" y="-599.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;saveEth()</text>
<text text-anchor="start" x="8" y="-582.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;saveToken(_token: address)</text>
<text text-anchor="start" x="8" y="-565.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;fromChakra(_chakra: address, _sellToken: address, _poolAmountOut: uint256): uint256</text>
<text text-anchor="start" x="8" y="-548.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getChakras(): address[]</text>
<text text-anchor="start" x="8" y="-532.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSellStrategies(): SellStrategy[]</text>
<text text-anchor="start" x="8" y="-515.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBuyStrategies(): BuyStrategy[]</text>
<text text-anchor="start" x="8" y="-498.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8" y="-481.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BuyStrategyEnabled(chakra: address, buyStrategyId: uint256)</text>
<text text-anchor="start" x="8" y="-464.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SellStrategyUpdated(chakra: address, sellStrategyId: uint256)</text>
<text text-anchor="start" x="8" y="-448.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SellStrategyAdded(chakra: address, sellStrategyName: string, sellStrategyId: uint256)</text>
<text text-anchor="start" x="8" y="-431.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BuyStrategyDisabled(chakra: address, buyStrategyId: uint256)</text>
<text text-anchor="start" x="8" y="-414.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SellStrategyDisabled(chakra: address, sellStrategyId: uint256)</text>
<text text-anchor="start" x="8" y="-397.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BuyStrategyAdded(chakra: address, buyStrategyName: string, buyStrategyId: uint256)</text>
<text text-anchor="start" x="8" y="-380.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SellStrategyEnabled(chakra: address, sellStrategyId: uint256)</text>
<text text-anchor="start" x="8" y="-364.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; SmartPoolCreated(chakra: address, chakraManager: address, name: string, symbol: string)</text>
<text text-anchor="start" x="8" y="-347.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BuyStrategyUpdated(chakra: address, sellStrategyId: uint256)</text>
<text text-anchor="start" x="8" y="-330.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; revertIfPaused()</text>
<text text-anchor="start" x="8" y="-313.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyChakraManager(_chakra: address, _sender: address)</text>
<text text-anchor="start" x="8" y="-296.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="8" y="-280.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;init(_balancerFactory: address, _implementation: address)</text>
<text text-anchor="start" x="8" y="-263.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;togglePause()</text>
<text text-anchor="start" x="8" y="-246.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;newProxiedSmartPool(_name: string, _symbol: string, _initialSupply: uint256, _tokens: address[], _amounts: uint256[], _weights: uint256[], _cap: uint256): address</text>
<text text-anchor="start" x="8" y="-229.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;calcToChakra(_chakra: address, _curreny: address, _poolAmount: uint256): uint256</text>
</g>
<!-- 0struct0 -->
<g id="node2" class="node">
<title>0struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="143.8784,-17.3 143.8784,-167.7 279.2214,-167.7 279.2214,-17.3 143.8784,-17.3"/>
<text text-anchor="middle" x="211.5499" y="-151.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="211.5499" y="-134.3" font-family="Times,serif" font-size="14.00" fill="#000000">SellStrategy</text>
<polyline fill="none" stroke="#000000" points="143.8784,-126.1 279.2214,-126.1 "/>
<text text-anchor="start" x="151.8784" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000">name: string</text>
<text text-anchor="start" x="151.8784" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint256</text>
<text text-anchor="start" x="151.8784" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000">prices: uint256[]</text>
<text text-anchor="start" x="151.8784" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000">sellTokens: address[]</text>
<text text-anchor="start" x="151.8784" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000">isExecuted: bool[]</text>
<text text-anchor="start" x="151.8784" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000">isActive: bool</text>
</g>
<!-- 0struct0&#45;&gt;0 -->
<g id="edge1" class="edge">
<title>0struct0&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M246.6031,-167.8181C252.6024,-180.7086 259.1977,-194.8798 266.2481,-210.029"/>
<polygon fill="#000000" stroke="#000000" points="266.397,-210.3489 272.5552,-214.1008 271.4604,-221.2284 265.3022,-217.4764 266.397,-210.3489"/>
</g>
<!-- 0struct1 -->
<g id="node3" class="node">
<title>0struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="297.5811,-8.9 297.5811,-176.1 469.5187,-176.1 469.5187,-8.9 297.5811,-8.9"/>
<text text-anchor="middle" x="383.5499" y="-159.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="383.5499" y="-142.7" font-family="Times,serif" font-size="14.00" fill="#000000">BuyStrategy</text>
<polyline fill="none" stroke="#000000" points="297.5811,-134.5 469.5187,-134.5 "/>
<text text-anchor="start" x="305.5811" y="-117.9" font-family="Times,serif" font-size="14.00" fill="#000000">name: string</text>
<text text-anchor="start" x="305.5811" y="-101.1" font-family="Times,serif" font-size="14.00" fill="#000000">id: uint256</text>
<text text-anchor="start" x="305.5811" y="-84.3" font-family="Times,serif" font-size="14.00" fill="#000000">interBuyDelay: uint256</text>
<text text-anchor="start" x="305.5811" y="-67.5" font-family="Times,serif" font-size="14.00" fill="#000000">buyAmount: uint256</text>
<text text-anchor="start" x="305.5811" y="-50.7" font-family="Times,serif" font-size="14.00" fill="#000000">lastBuyTimestamp: uint256</text>
<text text-anchor="start" x="305.5811" y="-33.9" font-family="Times,serif" font-size="14.00" fill="#000000">buyToken: address</text>
<text text-anchor="start" x="305.5811" y="-17.1" font-family="Times,serif" font-size="14.00" fill="#000000">isActive: bool</text>
</g>
<!-- 0struct1&#45;&gt;0 -->
<g id="edge2" class="edge">
<title>0struct1&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M397.2224,-176.211C398.917,-186.586 400.7302,-197.6879 402.6394,-209.3767"/>
<polygon fill="#000000" stroke="#000000" points="402.6452,-209.4129 407.5601,-214.6896 404.5796,-221.256 399.6647,-215.9792 402.6452,-209.4129"/>
</g>
<!-- 0struct2 -->
<g id="node4" class="node">
<title>0struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="487.0839,-17.3 487.0839,-167.7 652.0159,-167.7 652.0159,-17.3 487.0839,-17.3"/>
<text text-anchor="middle" x="569.5499" y="-151.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="569.5499" y="-134.3" font-family="Times,serif" font-size="14.00" fill="#000000">FromChakraArg</text>
<polyline fill="none" stroke="#000000" points="487.0839,-126.1 652.0159,-126.1 "/>
<text text-anchor="start" x="495.0839" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000">_chakra: address</text>
<text text-anchor="start" x="495.0839" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000">_sellToken: address</text>
<text text-anchor="start" x="495.0839" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000">_sellStrategyId: uint256</text>
<text text-anchor="start" x="495.0839" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000">_sellTokenIndex: uint256</text>
<text text-anchor="start" x="495.0839" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000">_poolAmount: uint256</text>
<text text-anchor="start" x="495.0839" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000">_minQuoteToken: uint256</text>
</g>
<!-- 0struct2&#45;&gt;0 -->
<g id="edge3" class="edge">
<title>0struct2&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M557.2482,-167.8181C555.1837,-180.4583 552.918,-194.33 550.4979,-209.1476"/>
<polygon fill="#000000" stroke="#000000" points="550.4591,-209.3853 553.4396,-215.9516 548.5247,-221.2284 545.5442,-214.662 550.4591,-209.3853"/>
</g>
<!-- 0struct3 -->
<g id="node5" class="node">
<title>0struct3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="670.4731,-.5 670.4731,-184.5 848.6267,-184.5 848.6267,-.5 670.4731,-.5"/>
<text text-anchor="middle" x="759.5499" y="-167.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="759.5499" y="-151.1" font-family="Times,serif" font-size="14.00" fill="#000000">FromChakraLocalVar</text>
<polyline fill="none" stroke="#000000" points="670.4731,-142.9 848.6267,-142.9 "/>
<text text-anchor="start" x="678.4731" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000">manager: address</text>
<text text-anchor="start" x="678.4731" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000">strategySellToken: address</text>
<text text-anchor="start" x="678.4731" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000">sellToken: address</text>
<text text-anchor="start" x="678.4731" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000">strategySellAmount: uint256</text>
<text text-anchor="start" x="678.4731" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000">sellAmount: uint256</text>
<text text-anchor="start" x="678.4731" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000">totalAmount: uint256</text>
<text text-anchor="start" x="678.4731" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000">relayerFee: uint256</text>
<text text-anchor="start" x="678.4731" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000">isRelayer: bool</text>
</g>
<!-- 0struct3&#45;&gt;0 -->
<g id="edge4" class="edge">
<title>0struct3&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M713.7665,-184.6168C709.7071,-192.7843 705.4499,-201.35 701.0253,-210.2524"/>
<polygon fill="#000000" stroke="#000000" points="700.8882,-210.5283 701.7997,-217.6815 695.5473,-221.2742 694.6358,-214.1209 700.8882,-210.5283"/>
</g>
</g>
</svg>
